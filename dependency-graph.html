<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
.node:hover path,
.node.current path,
.node:active polygon,
.node:hover polygon,
.node.current polygon {
  stroke: fuchsia;
  stroke-width: 2;
}

.edge:active path,
.edge:hover path,
.edge.current path,
.edge:active ellipse,
.edge:hover ellipse,
.edge.current ellipse {
  stroke: url(#edgeGradient);
  stroke-width: 3;
  stroke-opacity: 1;
}

.edge:active polygon,
.edge:hover polygon,
.edge.current polygon {
  stroke: fuchsia;
  stroke-width: 3;
  fill: fuchsia;
  stroke-opacity: 1;
  fill-opacity: 1;
}

.edge:active text,
.edge:hover text {
  fill: fuchsia;
}

.cluster path {
  stroke-width: 3;
}

.cluster:active path,
.cluster:hover path {
  fill: #ffff0011;
}

div.hint {
  background-color: #000000aa;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  border-radius: 1rem;
  position: fixed;
  top: calc(50% - 4em);
  right: calc(50% - 10em);
  border: none;
  padding: 1em 3em 1em 1em;
}

.hint button {
  position: absolute;
  font-weight: bolder;
  right: 0.6em;
  top: 0.6em;
  color: inherit;
  background-color: inherit;
  border: 1px solid currentColor;
  border-radius: 1em;
  margin-left: 0.6em;
}

.hint a {
  color: inherit;
}

#button_help {
  color: white;
  background-color: #00000011;
  border-radius: 1em;
  position: fixed;
  top: 1em;
  right: 1em;
  font-size: 24pt;
  font-weight: bolder;
  width: 2em;
  height: 2em;
  border: none;
}

#button_help:hover {
  cursor: pointer;
  background-color: #00000077;
}

@media print {
  #button_help {
    display: none;
  }

  div.hint {
    display: none;
  }
}

    </style>
  </head>
  <body>
    <button id="button_help">?</button>
    <div id="hints" class="hint" style="display: none">
      <button id="close-hints">x</button>
      <span id="hint-text"></span>
      <ul>
        <li><b>Hover</b> - highlight</li>
        <li><b>Right-click</b> - pin highlight</li>
        <li><b>ESC</b> - clear</li>
      </ul>
    </div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="531pt" height="626pt"
 viewBox="0.00 0.00 531.12 625.88" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 621.88)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-621.88 527.12,-621.88 527.12,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_apps</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M20,-55.88C20,-55.88 503.12,-55.88 503.12,-55.88 509.12,-55.88 515.12,-61.88 515.12,-67.88 515.12,-67.88 515.12,-597.88 515.12,-597.88 515.12,-603.88 509.12,-609.88 503.12,-609.88 503.12,-609.88 20,-609.88 20,-609.88 14,-609.88 8,-603.88 8,-597.88 8,-597.88 8,-67.87 8,-67.87 8,-61.88 14,-55.88 20,-55.88"/>
<text text-anchor="middle" x="261.56" y="-597.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">apps</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_apps/service&#45;scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M28,-63.88C28,-63.88 495.12,-63.88 495.12,-63.88 501.12,-63.88 507.12,-69.88 507.12,-75.88 507.12,-75.88 507.12,-571.88 507.12,-571.88 507.12,-577.88 501.12,-583.88 495.12,-583.88 495.12,-583.88 28,-583.88 28,-583.88 22,-583.88 16,-577.88 16,-571.88 16,-571.88 16,-75.88 16,-75.88 16,-69.87 22,-63.88 28,-63.88"/>
<text text-anchor="middle" x="261.56" y="-571.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">service&#45;scrape</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M36,-355.88C36,-355.88 409.12,-355.88 409.12,-355.88 415.12,-355.88 421.12,-361.88 421.12,-367.88 421.12,-367.88 421.12,-545.88 421.12,-545.88 421.12,-551.88 415.12,-557.88 409.12,-557.88 409.12,-557.88 36,-557.88 36,-557.88 30,-557.88 24,-551.88 24,-545.88 24,-545.88 24,-367.88 24,-367.88 24,-361.88 30,-355.88 36,-355.88"/>
<text text-anchor="middle" x="222.56" y="-545.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">function&#45;batch_scrape_suburbs</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M44,-363.88C44,-363.88 401.12,-363.88 401.12,-363.88 407.12,-363.88 413.12,-369.88 413.12,-375.88 413.12,-375.88 413.12,-493.88 413.12,-493.88 413.12,-499.88 407.12,-505.88 401.12,-505.88 401.12,-505.88 44,-505.88 44,-505.88 38,-505.88 32,-499.88 32,-493.88 32,-493.88 32,-375.88 32,-375.88 32,-369.88 38,-363.88 44,-363.88"/>
<text text-anchor="middle" x="222.56" y="-493.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M52,-371.88C52,-371.88 228.5,-371.88 228.5,-371.88 234.5,-371.88 240.5,-377.88 240.5,-383.88 240.5,-383.88 240.5,-441.88 240.5,-441.88 240.5,-447.88 234.5,-453.88 228.5,-453.88 228.5,-453.88 52,-453.88 52,-453.88 46,-453.88 40,-447.88 40,-441.88 40,-441.88 40,-383.88 40,-383.88 40,-377.88 46,-371.88 52,-371.88"/>
<text text-anchor="middle" x="140.25" y="-441.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">scrape</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M168.38,-131.88C168.38,-131.88 487.12,-131.88 487.12,-131.88 493.12,-131.88 499.12,-137.88 499.12,-143.88 499.12,-143.88 499.12,-335.88 499.12,-335.88 499.12,-341.88 493.12,-347.88 487.12,-347.88 487.12,-347.88 168.38,-347.88 168.38,-347.88 162.37,-347.88 156.38,-341.88 156.38,-335.88 156.38,-335.88 156.38,-143.88 156.38,-143.88 156.38,-137.88 162.38,-131.88 168.38,-131.88"/>
<text text-anchor="middle" x="327.75" y="-335.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">lib&#45;db_service_scrape</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape/dist</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M176.38,-139.88C176.38,-139.88 222.38,-139.88 222.38,-139.88 228.38,-139.88 234.38,-145.88 234.38,-151.88 234.38,-151.88 234.38,-179.88 234.38,-179.88 234.38,-185.88 228.38,-191.88 222.38,-191.88 222.38,-191.88 176.38,-191.88 176.38,-191.88 170.38,-191.88 164.38,-185.88 164.38,-179.88 164.38,-179.88 164.38,-151.88 164.38,-151.88 164.38,-145.88 170.38,-139.88 176.38,-139.88"/>
<text text-anchor="middle" x="199.38" y="-179.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">dist</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape/src</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M176.38,-199.88C176.38,-199.88 479.12,-199.88 479.12,-199.88 485.12,-199.88 491.12,-205.88 491.12,-211.88 491.12,-211.88 491.12,-283.88 491.12,-283.88 491.12,-289.88 485.12,-295.88 479.12,-295.88 479.12,-295.88 176.38,-295.88 176.38,-295.88 170.38,-295.88 164.38,-289.88 164.38,-283.88 164.38,-283.88 164.38,-211.88 164.38,-211.88 164.38,-205.88 170.38,-199.88 176.38,-199.88"/>
<text text-anchor="middle" x="327.75" y="-283.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_apps/service&#45;scrape/script</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M63.25,-71.88C63.25,-71.88 222.38,-71.88 222.38,-71.88 228.38,-71.88 234.38,-77.88 234.38,-83.88 234.38,-83.88 234.38,-111.88 234.38,-111.88 234.38,-117.88 228.38,-123.88 222.38,-123.88 222.38,-123.88 63.25,-123.88 63.25,-123.88 57.25,-123.88 51.25,-117.88 51.25,-111.88 51.25,-111.88 51.25,-83.88 51.25,-83.88 51.25,-77.88 57.25,-71.88 63.25,-71.88"/>
<text text-anchor="middle" x="142.81" y="-111.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">script</text>
</g>
<!-- .dependency&#45;cruiser.cjs -->
<g id="node1" class="node">
<title>.dependency&#45;cruiser.cjs</title>
<g id="a_node1"><a xlink:href=".dependency-cruiser.cjs" xlink:title=".dependency&#45;cruiser.cjs">
<path fill="#ccffcc" stroke="black" d="M142.46,-47.75C142.46,-47.75 40.79,-47.75 40.79,-47.75 37.83,-47.75 34.88,-44.79 34.88,-41.83 34.88,-41.83 34.88,-35.92 34.88,-35.92 34.88,-32.96 37.83,-30 40.79,-30 40.79,-30 142.46,-30 142.46,-30 145.42,-30 148.38,-32.96 148.38,-35.92 148.38,-35.92 148.38,-41.83 148.38,-41.83 148.38,-44.79 145.42,-47.75 142.46,-47.75"/>
<text text-anchor="middle" x="91.62" y="-35.2" font-family="Helvetica,sans-Serif" font-size="9.00">.dependency&#45;cruiser.cjs</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts -->
<g id="node2" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts</title>
<g id="a_node2"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/env.ts" xlink:title="env.ts">
<path fill="#ddfeff" stroke="black" d="M399.21,-426.75C399.21,-426.75 357.04,-426.75 357.04,-426.75 354.08,-426.75 351.12,-423.79 351.12,-420.83 351.12,-420.83 351.12,-414.92 351.12,-414.92 351.12,-411.96 354.08,-409 357.04,-409 357.04,-409 399.21,-409 399.21,-409 402.17,-409 405.12,-411.96 405.12,-414.92 405.12,-414.92 405.12,-420.83 405.12,-420.83 405.12,-423.79 402.17,-426.75 399.21,-426.75"/>
<text text-anchor="start" x="366.12" y="-414.2" font-family="Helvetica,sans-Serif" font-size="9.00">env.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts -->
<g id="node3" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts</title>
<g id="a_node3"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/index.mts" xlink:title="index.mts">
<path fill="#ddfeff" stroke="black" d="M220.96,-479.75C220.96,-479.75 177.79,-479.75 177.79,-479.75 174.83,-479.75 171.88,-476.79 171.88,-473.83 171.88,-473.83 171.88,-467.92 171.88,-467.92 171.88,-464.96 174.83,-462 177.79,-462 177.79,-462 220.96,-462 220.96,-462 223.92,-462 226.88,-464.96 226.88,-467.92 226.88,-467.92 226.88,-473.83 226.88,-473.83 226.88,-476.79 223.92,-479.75 220.96,-479.75"/>
<text text-anchor="start" x="179.88" y="-467.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.mts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="node4" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<g id="a_node4"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/instrumentation.ts" xlink:title="instrumentation.ts">
<path fill="#ddfeff" stroke="black" d="M330.58,-426.75C330.58,-426.75 254.42,-426.75 254.42,-426.75 251.46,-426.75 248.5,-423.79 248.5,-420.83 248.5,-420.83 248.5,-414.92 248.5,-414.92 248.5,-411.96 251.46,-409 254.42,-409 254.42,-409 330.58,-409 330.58,-409 333.54,-409 336.5,-411.96 336.5,-414.92 336.5,-414.92 336.5,-420.83 336.5,-420.83 336.5,-423.79 333.54,-426.75 330.58,-426.75"/>
<text text-anchor="start" x="256.5" y="-414.2" font-family="Helvetica,sans-Serif" font-size="9.00">instrumentation.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge1" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M227.22,-462.84C231.76,-461.11 236.34,-459.12 240.5,-456.88 253.58,-449.83 266.87,-439.54 276.6,-431.3"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="277.76,-433.08 280.93,-427.57 275.02,-429.9 277.76,-433.08"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts -->
<g id="edge2" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M336.78,-417.88C339.17,-417.88 341.56,-417.88 343.91,-417.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="343.89,-419.98 349.89,-417.88 343.89,-415.78 343.89,-419.98"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts -->
<g id="node5" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts</title>
<g id="a_node5"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/domainListings.ts" xlink:title="domainListings.ts">
<path fill="#ddfeff" stroke="black" d="M129.33,-397.75C129.33,-397.75 53.92,-397.75 53.92,-397.75 50.96,-397.75 48,-394.79 48,-391.83 48,-391.83 48,-385.92 48,-385.92 48,-382.96 50.96,-380 53.92,-380 53.92,-380 129.33,-380 129.33,-380 132.29,-380 135.25,-382.96 135.25,-385.92 135.25,-385.92 135.25,-391.83 135.25,-391.83 135.25,-394.79 132.29,-397.75 129.33,-397.75"/>
<text text-anchor="start" x="56" y="-385.2" font-family="Helvetica,sans-Serif" font-size="9.00">domainListings.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge3" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M128.87,-398.25C137.82,-400.33 147.41,-402.36 156.38,-403.88 184.34,-408.59 215.85,-411.97 241.4,-414.22"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="241.04,-416.3 247.2,-414.72 241.4,-412.11 241.04,-416.3"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts -->
<g id="node6" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts</title>
<g id="a_node6"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/scrapeUtil.ts" xlink:title="scrapeUtil.ts">
<path fill="#ddfeff" stroke="black" d="M226.58,-397.75C226.58,-397.75 172.17,-397.75 172.17,-397.75 169.21,-397.75 166.25,-394.79 166.25,-391.83 166.25,-391.83 166.25,-385.92 166.25,-385.92 166.25,-382.96 169.21,-380 172.17,-380 172.17,-380 226.58,-380 226.58,-380 229.54,-380 232.5,-382.96 232.5,-385.92 232.5,-385.92 232.5,-391.83 232.5,-391.83 232.5,-394.79 229.54,-397.75 226.58,-397.75"/>
<text text-anchor="start" x="174.25" y="-385.2" font-family="Helvetica,sans-Serif" font-size="9.00">scrapeUtil.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts -->
<g id="edge4" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M135.64,-388.88C143.34,-388.88 151.34,-388.88 158.94,-388.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="158.88,-390.98 164.88,-388.88 158.88,-386.78 158.88,-390.98"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.js -->
<g id="node7" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.js</title>
<g id="a_node7"><a xlink:href="apps/service-scrape/lib-db_service_scrape/dist/index.js" xlink:title="index.js">
<polygon fill="#ffffcc" stroke="black" points="226.38,-165.75 224.9,-167.72 214.54,-167.72 213.06,-165.75 172.38,-165.75 172.38,-148 226.38,-148 226.38,-165.75"/>
<text text-anchor="start" x="183.62" y="-153.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.js</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.js -->
<g id="edge5" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.js</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M94.03,-379.79C98.78,-351.02 116.31,-260.05 156.38,-196.88 162.81,-186.73 172.36,-177.36 180.73,-170.24"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="181.75,-172.12 185.05,-166.69 179.08,-168.88 181.75,-172.12"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge7" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M229.71,-398.21C238,-400.85 247.12,-403.75 255.74,-406.5"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="255,-408.46 261.36,-408.28 256.27,-404.46 255,-408.46"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts -->
<g id="node8" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts</title>
<g id="a_node8"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/domainSuburb.ts" xlink:title="domainSuburb.ts">
<path fill="#ddfeff" stroke="black" d="M128.58,-427.75C128.58,-427.75 54.67,-427.75 54.67,-427.75 51.71,-427.75 48.75,-424.79 48.75,-421.83 48.75,-421.83 48.75,-415.92 48.75,-415.92 48.75,-412.96 51.71,-410 54.67,-410 54.67,-410 128.58,-410 128.58,-410 131.54,-410 134.5,-412.96 134.5,-415.92 134.5,-415.92 134.5,-421.83 134.5,-421.83 134.5,-424.79 131.54,-427.75 128.58,-427.75"/>
<text text-anchor="start" x="56.75" y="-415.2" font-family="Helvetica,sans-Serif" font-size="9.00">domainSuburb.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge6" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M134.8,-418.66C165.88,-418.51 208.29,-418.29 241.15,-418.13"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="241.11,-420.23 247.1,-418.1 241.09,-416.03 241.11,-420.23"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/vite.config.ts -->
<g id="node9" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/vite.config.ts</title>
<g id="a_node9"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/vite.config.ts" xlink:title="vite.config.ts">
<path fill="#ccffcc" stroke="black" d="M118.83,-531.75C118.83,-531.75 64.42,-531.75 64.42,-531.75 61.46,-531.75 58.5,-528.79 58.5,-525.83 58.5,-525.83 58.5,-519.92 58.5,-519.92 58.5,-516.96 61.46,-514 64.42,-514 64.42,-514 118.83,-514 118.83,-514 121.79,-514 124.75,-516.96 124.75,-519.92 124.75,-519.92 124.75,-525.83 124.75,-525.83 124.75,-528.79 121.79,-531.75 118.83,-531.75"/>
<text text-anchor="start" x="66.5" y="-519.2" font-family="Helvetica,sans-Serif" font-size="9.00">vite.config.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts -->
<g id="node10" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts</title>
<g id="a_node10"><a xlink:href="apps/service-scrape/lib-db_service_scrape/drizzle.config.ts" xlink:title="drizzle.config.ts">
<path fill="#ddfeff" stroke="black" d="M326.08,-321.75C326.08,-321.75 258.92,-321.75 258.92,-321.75 255.96,-321.75 253,-318.79 253,-315.83 253,-315.83 253,-309.92 253,-309.92 253,-306.96 255.96,-304 258.92,-304 258.92,-304 326.08,-304 326.08,-304 329.04,-304 332,-306.96 332,-309.92 332,-309.92 332,-315.83 332,-315.83 332,-318.79 329.04,-321.75 326.08,-321.75"/>
<text text-anchor="start" x="261" y="-309.2" font-family="Helvetica,sans-Serif" font-size="9.00">drizzle.config.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts -->
<g id="node11" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts</title>
<g id="a_node11"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/env.ts" xlink:title="env.ts">
<path fill="#ddfeff" stroke="black" d="M399.21,-269.75C399.21,-269.75 357.04,-269.75 357.04,-269.75 354.08,-269.75 351.12,-266.79 351.12,-263.83 351.12,-263.83 351.12,-257.92 351.12,-257.92 351.12,-254.96 354.08,-252 357.04,-252 357.04,-252 399.21,-252 399.21,-252 402.17,-252 405.12,-254.96 405.12,-257.92 405.12,-257.92 405.12,-263.83 405.12,-263.83 405.12,-266.79 402.17,-269.75 399.21,-269.75"/>
<text text-anchor="start" x="366.12" y="-257.2" font-family="Helvetica,sans-Serif" font-size="9.00">env.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts -->
<g id="edge8" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M327.01,-303.59C330.3,-302.2 333.53,-300.63 336.5,-298.88 347.24,-292.53 357.49,-282.91 365,-274.94"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="366.2,-276.75 368.7,-270.9 363.1,-273.91 366.2,-276.75"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts -->
<g id="node12" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts</title>
<g id="a_node12"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/index.ts" xlink:title="index.ts">
<path fill="#ddfeff" stroke="black" d="M220.46,-235.75C220.46,-235.75 178.29,-235.75 178.29,-235.75 175.33,-235.75 172.38,-232.79 172.38,-229.83 172.38,-229.83 172.38,-223.92 172.38,-223.92 172.38,-220.96 175.33,-218 178.29,-218 178.29,-218 220.46,-218 220.46,-218 223.42,-218 226.38,-220.96 226.38,-223.92 226.38,-223.92 226.38,-229.83 226.38,-229.83 226.38,-232.79 223.42,-235.75 220.46,-235.75"/>
<text text-anchor="start" x="183.62" y="-223.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts -->
<g id="node13" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts</title>
<g id="a_node13"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/kysely.ts" xlink:title="kysely.ts">
<path fill="#ddfeff" stroke="black" d="M313.58,-257.75C313.58,-257.75 271.42,-257.75 271.42,-257.75 268.46,-257.75 265.5,-254.79 265.5,-251.83 265.5,-251.83 265.5,-245.92 265.5,-245.92 265.5,-242.96 268.46,-240 271.42,-240 271.42,-240 313.58,-240 313.58,-240 316.54,-240 319.5,-242.96 319.5,-245.92 319.5,-245.92 319.5,-251.83 319.5,-251.83 319.5,-254.79 316.54,-257.75 313.58,-257.75"/>
<text text-anchor="start" x="275.25" y="-245.2" font-family="Helvetica,sans-Serif" font-size="9.00">kysely.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts -->
<g id="edge9" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M226.73,-233.24C236.65,-235.63 248.05,-238.39 258.5,-240.91"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="257.99,-242.95 264.32,-242.31 258.98,-238.86 257.99,-242.95"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="node14" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<g id="a_node14"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/schema.ts" xlink:title="schema.ts">
<path fill="#ddfeff" stroke="black" d="M400.83,-239.75C400.83,-239.75 355.42,-239.75 355.42,-239.75 352.46,-239.75 349.5,-236.79 349.5,-233.83 349.5,-233.83 349.5,-227.92 349.5,-227.92 349.5,-224.96 352.46,-222 355.42,-222 355.42,-222 400.83,-222 400.83,-222 403.79,-222 406.75,-224.96 406.75,-227.92 406.75,-227.92 406.75,-233.83 406.75,-233.83 406.75,-236.79 403.79,-239.75 400.83,-239.75"/>
<text text-anchor="start" x="357.5" y="-227.2" font-family="Helvetica,sans-Serif" font-size="9.00">schema.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="edge10" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M226.84,-227.47C257.62,-228.17 308.56,-229.32 342.47,-230.09"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="342.07,-232.18 348.11,-230.22 342.16,-227.98 342.07,-232.18"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts -->
<g id="node15" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts</title>
<g id="a_node15"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/util.ts" xlink:title="util.ts">
<path fill="#ddfeff" stroke="black" d="M477.21,-232.75C477.21,-232.75 435.04,-232.75 435.04,-232.75 432.08,-232.75 429.12,-229.79 429.12,-226.83 429.12,-226.83 429.12,-220.92 429.12,-220.92 429.12,-217.96 432.08,-215 435.04,-215 435.04,-215 477.21,-215 477.21,-215 480.17,-215 483.12,-217.96 483.12,-220.92 483.12,-220.92 483.12,-226.83 483.12,-226.83 483.12,-229.79 480.17,-232.75 477.21,-232.75"/>
<text text-anchor="start" x="445.62" y="-220.2" font-family="Helvetica,sans-Serif" font-size="9.00">util.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts -->
<g id="edge11" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M226.63,-222.77C268.09,-216.93 351.18,-207.76 421.12,-215.88 421.44,-215.91 421.76,-215.95 422.08,-215.99"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="421.72,-218.06 427.98,-216.92 422.38,-213.91 421.72,-218.06"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts -->
<g id="edge12" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M319.96,-252.67C327.66,-253.78 336.17,-255 344.21,-256.15"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="343.7,-258.2 349.94,-256.97 344.3,-254.04 343.7,-258.2"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="edge13" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<path fill="none" stroke="black" d="M319.96,-243.18C326.92,-241.68 334.54,-240.04 341.89,-238.46"/>
<polygon fill="none" stroke="black" points="342.2,-240.54 347.62,-237.22 341.32,-236.43 342.2,-240.54"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts -->
<g id="edge14" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M406.99,-228.31C411.89,-227.86 417.02,-227.38 422.04,-226.92"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="422.09,-229.03 427.87,-226.39 421.71,-224.84 422.09,-229.03"/>
</g>
<!-- apps/service&#45;scrape/script/compress.ts -->
<g id="node16" class="node">
<title>apps/service&#45;scrape/script/compress.ts</title>
<g id="a_node16"><a xlink:href="apps/service-scrape/script/compress.ts" xlink:title="compress.ts">
<path fill="#ddfeff" stroke="black" d="M118.08,-97.75C118.08,-97.75 65.17,-97.75 65.17,-97.75 62.21,-97.75 59.25,-94.79 59.25,-91.83 59.25,-91.83 59.25,-85.92 59.25,-85.92 59.25,-82.96 62.21,-80 65.17,-80 65.17,-80 118.08,-80 118.08,-80 121.04,-80 124,-82.96 124,-85.92 124,-85.92 124,-91.83 124,-91.83 124,-94.79 121.04,-97.75 118.08,-97.75"/>
<text text-anchor="start" x="67.25" y="-85.2" font-family="Helvetica,sans-Serif" font-size="9.00">compress.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/util.ts -->
<g id="node17" class="node">
<title>apps/service&#45;scrape/script/util.ts</title>
<g id="a_node17"><a xlink:href="apps/service-scrape/script/util.ts" xlink:title="util.ts">
<path fill="#ddfeff" stroke="black" d="M220.46,-97.75C220.46,-97.75 178.29,-97.75 178.29,-97.75 175.33,-97.75 172.38,-94.79 172.38,-91.83 172.38,-91.83 172.38,-85.92 172.38,-85.92 172.38,-82.96 175.33,-80 178.29,-80 178.29,-80 220.46,-80 220.46,-80 223.42,-80 226.38,-82.96 226.38,-85.92 226.38,-85.92 226.38,-91.83 226.38,-91.83 226.38,-94.79 223.42,-97.75 220.46,-97.75"/>
<text text-anchor="start" x="188.88" y="-85.2" font-family="Helvetica,sans-Serif" font-size="9.00">util.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/compress.ts&#45;&gt;apps/service&#45;scrape/script/util.ts -->
<g id="edge15" class="edge">
<title>apps/service&#45;scrape/script/compress.ts&#45;&gt;apps/service&#45;scrape/script/util.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M124.35,-88.88C137.31,-88.88 152.28,-88.88 165.36,-88.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="165.1,-90.98 171.1,-88.88 165.1,-86.78 165.1,-90.98"/>
</g>
<!-- fs -->
<g id="node18" class="node">
<title>fs</title>
<g id="a_node18"><a xlink:href="https://nodejs.org/api/fs.html" xlink:title="fs">
<path fill="#ffffcc" stroke="grey" d="M313.58,-17.75C313.58,-17.75 271.42,-17.75 271.42,-17.75 268.46,-17.75 265.5,-14.79 265.5,-11.83 265.5,-11.83 265.5,-5.92 265.5,-5.92 265.5,-2.96 268.46,0 271.42,0 271.42,0 313.58,0 313.58,0 316.54,0 319.5,-2.96 319.5,-5.92 319.5,-5.92 319.5,-11.83 319.5,-11.83 319.5,-14.79 316.54,-17.75 313.58,-17.75"/>
<text text-anchor="middle" x="292.5" y="-5.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="grey">fs</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/compress.ts&#45;&gt;fs -->
<g id="edge16" class="edge">
<title>apps/service&#45;scrape/script/compress.ts&#45;&gt;fs</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M113.89,-79.53C143.75,-66.53 199.89,-42.47 248.5,-23.88 251.57,-22.7 254.78,-21.51 258.01,-20.34"/>
<polygon fill="black" stroke="black" points="258.66,-22.34 263.61,-18.34 257.25,-18.38 258.66,-22.34"/>
</g>
<!-- apps/service&#45;scrape/script/util.ts&#45;&gt;fs -->
<g id="edge17" class="edge">
<title>apps/service&#45;scrape/script/util.ts&#45;&gt;fs</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M210.78,-79.62C219.66,-71.26 232.26,-58.26 240.5,-44.88 245.73,-36.37 241.34,-30.84 248.5,-23.88 251.41,-21.05 254.87,-18.76 258.56,-16.89"/>
<polygon fill="black" stroke="black" points="259.27,-18.87 263.96,-14.58 257.62,-15.01 259.27,-18.87"/>
</g>
<!-- zlib -->
<g id="node19" class="node">
<title>zlib</title>
<g id="a_node19"><a xlink:href="https://nodejs.org/api/zlib.html" xlink:title="zlib">
<path fill="#ffffcc" stroke="grey" d="M313.58,-47.75C313.58,-47.75 271.42,-47.75 271.42,-47.75 268.46,-47.75 265.5,-44.79 265.5,-41.83 265.5,-41.83 265.5,-35.92 265.5,-35.92 265.5,-32.96 268.46,-30 271.42,-30 271.42,-30 313.58,-30 313.58,-30 316.54,-30 319.5,-32.96 319.5,-35.92 319.5,-35.92 319.5,-41.83 319.5,-41.83 319.5,-44.79 316.54,-47.75 313.58,-47.75"/>
<text text-anchor="middle" x="292.5" y="-35.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="grey">zlib</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/util.ts&#45;&gt;zlib -->
<g id="edge18" class="edge">
<title>apps/service&#45;scrape/script/util.ts&#45;&gt;zlib</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M217.09,-79.7C231.39,-71.86 252.12,-60.48 268.07,-51.73"/>
<polygon fill="black" stroke="black" points="269.01,-53.61 273.26,-48.89 266.99,-49.93 269.01,-53.61"/>
</g>
</g>
</svg>
    <script>
      var gMode = new Mode();

var title2ElementMap = (function makeElementMap() {
  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  return new Title2ElementMap(edges, nodes);
})();

function getHoverHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function hoverHighlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (
      currentHighlightedTitle !== closestTitleText &&
      gMode.get() === gMode.HOVER
    ) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

function getSelectHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function selectHighlightHandler(pMouseEvent) {
    pMouseEvent.preventDefault();

    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (closestNodeOrEdge) {
      gMode.setToSelect();
    } else {
      gMode.setToHover();
    }
    if (currentHighlightedTitle !== closestTitleText) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}
function Mode() {
  var HOVER = 1;
  var SELECT = 2;

  function setToHover() {
    this._mode = HOVER;
  }
  function setToSelect() {
    this._mode = SELECT;
  }

  /**
   * @returns {number}
   */
  function get() {
    return this._mode || HOVER;
  }

  return {
    HOVER: HOVER,
    SELECT: SELECT,
    setToHover: setToHover,
    setToSelect: setToSelect,
    get: get,
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

function resetNodesAndEdges() {
  nodeListToArray(document.querySelectorAll(".current")).forEach(
    removeHighlight,
  );
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}

var gHints = {
  HIDDEN: 1,
  SHOWN: 2,
  state: 1, // === HIDDEN
  show: function () {
    document.getElementById("hints").removeAttribute("style");
    gHints.state = gHints.SHOWN;
  },
  hide: function () {
    document.getElementById("hints").style = "display:none";
    gHints.state = gHints.HIDDEN;
  },
  toggle: function () {
    if ((gHints.state || gHints.HIDDEN) === gHints.HIDDEN) {
      gHints.show();
    } else {
      gHints.hide();
    }
  },
};

/** @param {KeyboardEvent} pKeyboardEvent */
function keyboardEventHandler(pKeyboardEvent) {
  if (pKeyboardEvent.key === "Escape") {
    resetNodesAndEdges();
    gMode.setToHover();
    gHints.hide();
  }
  if (pKeyboardEvent.key === "F1") {
    pKeyboardEvent.preventDefault();
    gHints.toggle();
  }
}

document.addEventListener("contextmenu", getSelectHandler(title2ElementMap));
document.addEventListener("mouseover", getHoverHandler(title2ElementMap));
document.addEventListener("keydown", keyboardEventHandler);
document.getElementById("close-hints").addEventListener("click", gHints.hide);
document.getElementById("button_help").addEventListener("click", gHints.toggle);
document.querySelector("svg").insertAdjacentHTML(
  "afterbegin",
  `<linearGradient id="edgeGradient">
      <stop offset="0%" stop-color="fuchsia"/>
      <stop offset="100%" stop-color="purple"/>
   </linearGradient>
  `,
);

// Add a small increment to the last value of the path to make gradients on
// horizontal paths work. Without them all browsers I tested with (firefox,
// chrome) do not render the gradient, but instead make the line transparent
// (or the color of the background, I haven't looked into it that deeply,
// but for the hack it doesn't matter which).
function skewLineABit(lDrawingInstructions) {
  var lLastValue = lDrawingInstructions.match(/(\d+\.?\d*)$/)[0];
  // Smaller values than .001 _should_ work as well, but don't in all
  // cases. Even this value is so small that it is not visible to the
  // human eye (tested with the two I have at my disposal).
  var lIncrement = 0.001;
  var lNewLastValue = parseFloat(lLastValue) + lIncrement;

  return lDrawingInstructions.replace(lLastValue, lNewLastValue);
}

nodeListToArray(document.querySelectorAll("path"))
  .filter(function (pElement) {
    return pElement.parentElement.classList.contains("edge");
  })
  .forEach(function (pElement) {
    pElement.attributes.d.value = skewLineABit(pElement.attributes.d.value);
  });

    </script>
  </body>
</html>
