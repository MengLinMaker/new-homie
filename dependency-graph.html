<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
.node:hover path,
.node.current path,
.node:active polygon,
.node:hover polygon,
.node.current polygon {
  stroke: fuchsia;
  stroke-width: 2;
}

.edge:active path,
.edge:hover path,
.edge.current path,
.edge:active ellipse,
.edge:hover ellipse,
.edge.current ellipse {
  stroke: url(#edgeGradient);
  stroke-width: 3;
  stroke-opacity: 1;
}

.edge:active polygon,
.edge:hover polygon,
.edge.current polygon {
  stroke: fuchsia;
  stroke-width: 3;
  fill: fuchsia;
  stroke-opacity: 1;
  fill-opacity: 1;
}

.edge:active text,
.edge:hover text {
  fill: fuchsia;
}

.cluster path {
  stroke-width: 3;
}

.cluster:active path,
.cluster:hover path {
  fill: #ffff0011;
}

div.hint {
  background-color: #000000aa;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  border-radius: 1rem;
  position: fixed;
  top: calc(50% - 4em);
  right: calc(50% - 10em);
  border: none;
  padding: 1em 3em 1em 1em;
}

.hint button {
  position: absolute;
  font-weight: bolder;
  right: 0.6em;
  top: 0.6em;
  color: inherit;
  background-color: inherit;
  border: 1px solid currentColor;
  border-radius: 1em;
  margin-left: 0.6em;
}

.hint a {
  color: inherit;
}

#button_help {
  color: white;
  background-color: #00000011;
  border-radius: 1em;
  position: fixed;
  top: 1em;
  right: 1em;
  font-size: 24pt;
  font-weight: bolder;
  width: 2em;
  height: 2em;
  border: none;
}

#button_help:hover {
  cursor: pointer;
  background-color: #00000077;
}

@media print {
  #button_help {
    display: none;
  }

  div.hint {
    display: none;
  }
}

    </style>
  </head>
  <body>
    <button id="button_help">?</button>
    <div id="hints" class="hint" style="display: none">
      <button id="close-hints">x</button>
      <span id="hint-text"></span>
      <ul>
        <li><b>Hover</b> - highlight</li>
        <li><b>Right-click</b> - pin highlight</li>
        <li><b>ESC</b> - clear</li>
      </ul>
    </div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.0.0 (20250608.1624)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="575pt" height="766pt"
 viewBox="0.00 0.00 575.00 766.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 761.88)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-761.88 570.88,-761.88 570.88,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_apps</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M20,-85.88C20,-85.88 546.88,-85.88 546.88,-85.88 552.88,-85.88 558.88,-91.88 558.88,-97.88 558.88,-97.88 558.88,-737.88 558.88,-737.88 558.88,-743.88 552.88,-749.88 546.88,-749.88 546.88,-749.88 20,-749.88 20,-749.88 14,-749.88 8,-743.88 8,-737.88 8,-737.88 8,-97.88 8,-97.88 8,-91.88 14,-85.88 20,-85.88"/>
<text xml:space="preserve" text-anchor="middle" x="283.44" y="-737.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">apps</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_apps/service&#45;scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M28,-93.88C28,-93.88 538.88,-93.88 538.88,-93.88 544.88,-93.88 550.88,-99.88 550.88,-105.88 550.88,-105.88 550.88,-711.88 550.88,-711.88 550.88,-717.88 544.88,-723.88 538.88,-723.88 538.88,-723.88 28,-723.88 28,-723.88 22,-723.88 16,-717.88 16,-711.88 16,-711.88 16,-105.88 16,-105.88 16,-99.87 22,-93.88 28,-93.88"/>
<text xml:space="preserve" text-anchor="middle" x="283.44" y="-711.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">service&#45;scrape</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M36,-495.88C36,-495.88 529.25,-495.88 529.25,-495.88 535.25,-495.88 541.25,-501.88 541.25,-507.88 541.25,-507.88 541.25,-685.88 541.25,-685.88 541.25,-691.88 535.25,-697.88 529.25,-697.88 529.25,-697.88 36,-697.88 36,-697.88 30,-697.88 24,-691.88 24,-685.88 24,-685.88 24,-507.88 24,-507.88 24,-501.88 30,-495.88 36,-495.88"/>
<text xml:space="preserve" text-anchor="middle" x="282.62" y="-685.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">function&#45;batch_scrape_suburbs</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M44,-503.88C44,-503.88 521.25,-503.88 521.25,-503.88 527.25,-503.88 533.25,-509.88 533.25,-515.88 533.25,-515.88 533.25,-633.88 533.25,-633.88 533.25,-639.88 527.25,-645.88 521.25,-645.88 521.25,-645.88 44,-645.88 44,-645.88 38,-645.88 32,-639.88 32,-633.88 32,-633.88 32,-515.88 32,-515.88 32,-509.88 38,-503.88 44,-503.88"/>
<text xml:space="preserve" text-anchor="middle" x="282.62" y="-633.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M52,-511.88C52,-511.88 291.62,-511.88 291.62,-511.88 297.62,-511.88 303.62,-517.88 303.62,-523.88 303.62,-523.88 303.62,-581.88 303.62,-581.88 303.62,-587.88 297.62,-593.88 291.62,-593.88 291.62,-593.88 52,-593.88 52,-593.88 46,-593.88 40,-587.88 40,-581.88 40,-581.88 40,-523.88 40,-523.88 40,-517.88 46,-511.88 52,-511.88"/>
<text xml:space="preserve" text-anchor="middle" x="171.81" y="-581.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">scrape</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M67.75,-161.88C67.75,-161.88 530.88,-161.88 530.88,-161.88 536.88,-161.88 542.88,-167.88 542.88,-173.88 542.88,-173.88 542.88,-475.88 542.88,-475.88 542.88,-481.88 536.88,-487.88 530.88,-487.88 530.88,-487.88 67.75,-487.88 67.75,-487.88 61.75,-487.88 55.75,-481.88 55.75,-475.88 55.75,-475.88 55.75,-173.88 55.75,-173.88 55.75,-167.88 61.75,-161.88 67.75,-161.88"/>
<text xml:space="preserve" text-anchor="middle" x="299.31" y="-475.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">lib&#45;db_service_scrape</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape/src</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M168.38,-169.88C168.38,-169.88 522.88,-169.88 522.88,-169.88 528.88,-169.88 534.88,-175.88 534.88,-181.88 534.88,-181.88 534.88,-449.88 534.88,-449.88 534.88,-455.88 528.88,-461.88 522.88,-461.88 522.88,-461.88 168.38,-461.88 168.38,-461.88 162.38,-461.88 156.38,-455.88 156.38,-449.88 156.38,-449.88 156.38,-181.87 156.38,-181.87 156.38,-175.88 162.38,-169.88 168.38,-169.88"/>
<text xml:space="preserve" text-anchor="middle" x="345.62" y="-449.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M176.38,-177.88C176.38,-177.88 348.62,-177.88 348.62,-177.88 354.62,-177.88 360.62,-183.88 360.62,-189.88 360.62,-189.88 360.62,-367.88 360.62,-367.88 360.62,-373.88 354.62,-379.88 348.62,-379.88 348.62,-379.88 176.38,-379.88 176.38,-379.88 170.38,-379.88 164.38,-373.88 164.38,-367.88 164.38,-367.88 164.38,-189.88 164.38,-189.88 164.38,-183.88 170.38,-177.88 176.38,-177.88"/>
<text xml:space="preserve" text-anchor="middle" x="262.5" y="-367.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">migration</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_apps/service&#45;scrape/script</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M63.25,-101.88C63.25,-101.88 285.5,-101.88 285.5,-101.88 291.5,-101.88 297.5,-107.88 297.5,-113.88 297.5,-113.88 297.5,-141.88 297.5,-141.88 297.5,-147.88 291.5,-153.88 285.5,-153.88 285.5,-153.88 63.25,-153.88 63.25,-153.88 57.25,-153.88 51.25,-147.88 51.25,-141.88 51.25,-141.88 51.25,-113.88 51.25,-113.88 51.25,-107.88 57.25,-101.88 63.25,-101.88"/>
<text xml:space="preserve" text-anchor="middle" x="174.38" y="-141.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">script</text>
</g>
<!-- .dependency&#45;cruiser.cjs -->
<g id="node1" class="node">
<title>.dependency&#45;cruiser.cjs</title>
<g id="a_node1"><a xlink:href=".dependency-cruiser.cjs" xlink:title=".dependency&#45;cruiser.cjs">
<path fill="#ccffcc" stroke="black" d="M142.46,-77.75C142.46,-77.75 40.79,-77.75 40.79,-77.75 37.83,-77.75 34.88,-74.79 34.88,-71.83 34.88,-71.83 34.88,-65.92 34.88,-65.92 34.88,-62.96 37.83,-60 40.79,-60 40.79,-60 142.46,-60 142.46,-60 145.42,-60 148.38,-62.96 148.38,-65.92 148.38,-65.92 148.38,-71.83 148.38,-71.83 148.38,-74.79 145.42,-77.75 142.46,-77.75"/>
<text xml:space="preserve" text-anchor="start" x="42.88" y="-65.2" font-family="Helvetica,sans-Serif" font-size="9.00">.dependency&#45;cruiser.cjs</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts -->
<g id="node2" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts</title>
<g id="a_node2"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/env.ts" xlink:title="env.ts">
<path fill="#ddfeff" stroke="black" d="M519.33,-576.75C519.33,-576.75 477.17,-576.75 477.17,-576.75 474.21,-576.75 471.25,-573.79 471.25,-570.83 471.25,-570.83 471.25,-564.92 471.25,-564.92 471.25,-561.96 474.21,-559 477.17,-559 477.17,-559 519.33,-559 519.33,-559 522.29,-559 525.25,-561.96 525.25,-564.92 525.25,-564.92 525.25,-570.83 525.25,-570.83 525.25,-573.79 522.29,-576.75 519.33,-576.75"/>
<text xml:space="preserve" text-anchor="start" x="486.25" y="-564.2" font-family="Helvetica,sans-Serif" font-size="9.00">env.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts -->
<g id="node3" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts</title>
<g id="a_node3"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/index.mts" xlink:title="index.mts">
<path fill="#ddfeff" stroke="black" d="M284.08,-619.75C284.08,-619.75 240.92,-619.75 240.92,-619.75 237.96,-619.75 235,-616.79 235,-613.83 235,-613.83 235,-607.92 235,-607.92 235,-604.96 237.96,-602 240.92,-602 240.92,-602 284.08,-602 284.08,-602 287.04,-602 290,-604.96 290,-607.92 290,-607.92 290,-613.83 290,-613.83 290,-616.79 287.04,-619.75 284.08,-619.75"/>
<text xml:space="preserve" text-anchor="start" x="243" y="-607.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.mts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="node4" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<g id="a_node4"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/instrumentation.ts" xlink:title="instrumentation.ts">
<path fill="#ddfeff" stroke="black" d="M450.71,-576.75C450.71,-576.75 374.54,-576.75 374.54,-576.75 371.58,-576.75 368.62,-573.79 368.62,-570.83 368.62,-570.83 368.62,-564.92 368.62,-564.92 368.62,-561.96 371.58,-559 374.54,-559 374.54,-559 450.71,-559 450.71,-559 453.67,-559 456.62,-561.96 456.62,-564.92 456.62,-564.92 456.62,-570.83 456.62,-570.83 456.62,-573.79 453.67,-576.75 450.71,-576.75"/>
<text xml:space="preserve" text-anchor="start" x="376.62" y="-564.2" font-family="Helvetica,sans-Serif" font-size="9.00">instrumentation.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge1" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M290.09,-609.72C309.97,-608.21 337.58,-604.77 360.62,-596.88 371.85,-593.03 383.42,-586.68 392.69,-580.9"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="393.75,-582.72 397.67,-577.71 391.48,-579.18 393.75,-582.72"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts -->
<g id="edge2" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M456.91,-567.88C459.3,-567.88 461.68,-567.88 464.03,-567.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="464.02,-569.98 470.02,-567.88 464.02,-565.78 464.02,-569.98"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts -->
<g id="node5" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts</title>
<g id="a_node5"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/domainListings.ts" xlink:title="domainListings.ts">
<path fill="#ddfeff" stroke="black" d="M129.33,-567.75C129.33,-567.75 53.92,-567.75 53.92,-567.75 50.96,-567.75 48,-564.79 48,-561.83 48,-561.83 48,-555.92 48,-555.92 48,-552.96 50.96,-550 53.92,-550 53.92,-550 129.33,-550 129.33,-550 132.29,-550 135.25,-552.96 135.25,-555.92 135.25,-555.92 135.25,-561.83 135.25,-561.83 135.25,-564.79 132.29,-567.75 129.33,-567.75"/>
<text xml:space="preserve" text-anchor="start" x="56" y="-555.2" font-family="Helvetica,sans-Serif" font-size="9.00">domainListings.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge3" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M132.22,-568.23C140.18,-569.75 148.51,-571.08 156.38,-571.88 227.27,-579.03 309.8,-575.62 361.38,-572.09"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="361.39,-574.2 367.23,-571.68 361.1,-570.01 361.39,-574.2"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts -->
<g id="node6" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts</title>
<g id="a_node6"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/scrapeUtil.ts" xlink:title="scrapeUtil.ts">
<path fill="#ddfeff" stroke="black" d="M289.71,-565.75C289.71,-565.75 235.29,-565.75 235.29,-565.75 232.33,-565.75 229.38,-562.79 229.38,-559.83 229.38,-559.83 229.38,-553.92 229.38,-553.92 229.38,-550.96 232.33,-548 235.29,-548 235.29,-548 289.71,-548 289.71,-548 292.67,-548 295.62,-550.96 295.62,-553.92 295.62,-553.92 295.62,-559.83 295.62,-559.83 295.62,-562.79 292.67,-565.75 289.71,-565.75"/>
<text xml:space="preserve" text-anchor="start" x="237.38" y="-553.2" font-family="Helvetica,sans-Serif" font-size="9.00">scrapeUtil.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts -->
<g id="edge4" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M135.68,-558.37C162.32,-558.05 196.26,-557.65 222.18,-557.34"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="222.04,-559.44 228.02,-557.27 221.99,-555.24 222.04,-559.44"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge6" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M296.01,-559.29C315.22,-560.72 339.96,-562.55 361.62,-564.16"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="361.19,-566.24 367.33,-564.59 361.5,-562.05 361.19,-566.24"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts -->
<g id="node7" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts</title>
<g id="a_node7"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/domainSuburb.ts" xlink:title="domainSuburb.ts">
<path fill="#ddfeff" stroke="black" d="M128.58,-537.75C128.58,-537.75 54.67,-537.75 54.67,-537.75 51.71,-537.75 48.75,-534.79 48.75,-531.83 48.75,-531.83 48.75,-525.92 48.75,-525.92 48.75,-522.96 51.71,-520 54.67,-520 54.67,-520 128.58,-520 128.58,-520 131.54,-520 134.5,-522.96 134.5,-525.92 134.5,-525.92 134.5,-531.83 134.5,-531.83 134.5,-534.79 131.54,-537.75 128.58,-537.75"/>
<text xml:space="preserve" text-anchor="start" x="56.75" y="-525.2" font-family="Helvetica,sans-Serif" font-size="9.00">domainSuburb.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge5" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M134.78,-525.53C188.28,-522.5 282.97,-521.22 360.62,-541.88 371.39,-544.74 382.51,-550.08 391.61,-555.18"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="390.53,-556.98 396.77,-558.19 392.64,-553.35 390.53,-556.98"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/vite.config.ts -->
<g id="node8" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/vite.config.ts</title>
<g id="a_node8"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/vite.config.ts" xlink:title="vite.config.ts">
<path fill="#ccffcc" stroke="black" d="M118.83,-671.75C118.83,-671.75 64.42,-671.75 64.42,-671.75 61.46,-671.75 58.5,-668.79 58.5,-665.83 58.5,-665.83 58.5,-659.92 58.5,-659.92 58.5,-656.96 61.46,-654 64.42,-654 64.42,-654 118.83,-654 118.83,-654 121.79,-654 124.75,-656.96 124.75,-659.92 124.75,-659.92 124.75,-665.83 124.75,-665.83 124.75,-668.79 121.79,-671.75 118.83,-671.75"/>
<text xml:space="preserve" text-anchor="start" x="66.5" y="-659.2" font-family="Helvetica,sans-Serif" font-size="9.00">vite.config.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts -->
<g id="node9" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts</title>
<g id="a_node9"><a xlink:href="apps/service-scrape/lib-db_service_scrape/migrate.ts" xlink:title="migrate.ts">
<path fill="#ddfeff" stroke="black" d="M113.58,-435.75C113.58,-435.75 69.67,-435.75 69.67,-435.75 66.71,-435.75 63.75,-432.79 63.75,-429.83 63.75,-429.83 63.75,-423.92 63.75,-423.92 63.75,-420.96 66.71,-418 69.67,-418 69.67,-418 113.58,-418 113.58,-418 116.54,-418 119.5,-420.96 119.5,-423.92 119.5,-423.92 119.5,-429.83 119.5,-429.83 119.5,-432.79 116.54,-435.75 113.58,-435.75"/>
<text xml:space="preserve" text-anchor="start" x="71.75" y="-423.2" font-family="Helvetica,sans-Serif" font-size="9.00">migrate.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts -->
<g id="node10" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts</title>
<g id="a_node10"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/index.ts" xlink:title="index.ts">
<path fill="#ddfeff" stroke="black" d="M283.58,-435.75C283.58,-435.75 241.42,-435.75 241.42,-435.75 238.46,-435.75 235.5,-432.79 235.5,-429.83 235.5,-429.83 235.5,-423.92 235.5,-423.92 235.5,-420.96 238.46,-418 241.42,-418 241.42,-418 283.58,-418 283.58,-418 286.54,-418 289.5,-420.96 289.5,-423.92 289.5,-423.92 289.5,-429.83 289.5,-429.83 289.5,-432.79 286.54,-435.75 283.58,-435.75"/>
<text xml:space="preserve" text-anchor="start" x="246.75" y="-423.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts -->
<g id="edge7" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M119.76,-426.88C149.44,-426.88 197.01,-426.88 228.75,-426.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="228.36,-428.98 234.36,-426.88 228.36,-424.78 228.36,-428.98"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/log.ts -->
<g id="node11" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/log.ts</title>
<g id="a_node11"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/log.ts" xlink:title="log.ts">
<path fill="#ddfeff" stroke="black" d="M433.71,-435.75C433.71,-435.75 391.54,-435.75 391.54,-435.75 388.58,-435.75 385.62,-432.79 385.62,-429.83 385.62,-429.83 385.62,-423.92 385.62,-423.92 385.62,-420.96 388.58,-418 391.54,-418 391.54,-418 433.71,-418 433.71,-418 436.67,-418 439.62,-420.96 439.62,-423.92 439.62,-423.92 439.62,-429.83 439.62,-429.83 439.62,-432.79 436.67,-435.75 433.71,-435.75"/>
<text xml:space="preserve" text-anchor="start" x="401.75" y="-423.2" font-family="Helvetica,sans-Serif" font-size="9.00">log.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/log.ts -->
<g id="edge8" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/log.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M119.99,-434.78C131.17,-437.62 144.29,-440.47 156.38,-441.88 246.55,-452.34 270.77,-454.81 360.62,-441.88 366.6,-441.02 372.84,-439.62 378.83,-438.01"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="379.14,-440.11 384.34,-436.45 377.99,-436.07 379.14,-440.11"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts -->
<g id="node12" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts</title>
<g id="a_node12"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/migrator.ts" xlink:title="migrator.ts">
<path fill="#ddfeff" stroke="black" d="M285.96,-405.75C285.96,-405.75 239.04,-405.75 239.04,-405.75 236.08,-405.75 233.12,-402.79 233.12,-399.83 233.12,-399.83 233.12,-393.92 233.12,-393.92 233.12,-390.96 236.08,-388 239.04,-388 239.04,-388 285.96,-388 285.96,-388 288.92,-388 291.88,-390.96 291.88,-393.92 291.88,-393.92 291.88,-399.83 291.88,-399.83 291.88,-402.79 288.92,-405.75 285.96,-405.75"/>
<text xml:space="preserve" text-anchor="start" x="241.12" y="-393.2" font-family="Helvetica,sans-Serif" font-size="9.00">migrator.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts -->
<g id="edge9" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/migrate.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M119.81,-419.91C131.08,-417.18 144.31,-414.15 156.38,-411.88 179.49,-407.52 205.67,-403.78 226.13,-401.12"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="226.25,-403.22 231.93,-400.38 225.71,-399.06 226.25,-403.22"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts -->
<g id="node13" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts</title>
<g id="a_node13"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/kysely.ts" xlink:title="kysely.ts">
<path fill="#ddfeff" stroke="black" d="M433.71,-391.75C433.71,-391.75 391.54,-391.75 391.54,-391.75 388.58,-391.75 385.62,-388.79 385.62,-385.83 385.62,-385.83 385.62,-379.92 385.62,-379.92 385.62,-376.96 388.58,-374 391.54,-374 391.54,-374 433.71,-374 433.71,-374 436.67,-374 439.62,-376.96 439.62,-379.92 439.62,-379.92 439.62,-385.83 439.62,-385.83 439.62,-388.79 436.67,-391.75 433.71,-391.75"/>
<text xml:space="preserve" text-anchor="start" x="395.38" y="-379.2" font-family="Helvetica,sans-Serif" font-size="9.00">kysely.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts -->
<g id="edge10" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M289.68,-428.13C310.37,-427.94 339.21,-424.93 360.62,-411.88 365.79,-408.73 363.88,-404.63 368.62,-400.88 371.87,-398.31 375.54,-396.04 379.33,-394.07"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="380.02,-396.07 384.53,-391.59 378.21,-392.28 380.02,-396.07"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="node14" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<g id="a_node14"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/schema.ts" xlink:title="schema.ts">
<path fill="#ddfeff" stroke="black" d="M520.96,-402.75C520.96,-402.75 475.54,-402.75 475.54,-402.75 472.58,-402.75 469.62,-399.79 469.62,-396.83 469.62,-396.83 469.62,-390.92 469.62,-390.92 469.62,-387.96 472.58,-385 475.54,-385 475.54,-385 520.96,-385 520.96,-385 523.92,-385 526.88,-387.96 526.88,-390.92 526.88,-390.92 526.88,-396.83 526.88,-396.83 526.88,-399.79 523.92,-402.75 520.96,-402.75"/>
<text xml:space="preserve" text-anchor="start" x="477.62" y="-390.2" font-family="Helvetica,sans-Serif" font-size="9.00">schema.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="edge11" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M289.85,-423.1C311.11,-420.05 341.79,-415.67 368.62,-411.88 400.39,-407.39 436.58,-402.33 462.46,-398.72"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="462.59,-400.82 468.24,-397.91 462.01,-396.66 462.59,-400.82"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/log.ts -->
<g id="edge14" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/log.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M292.16,-400.28C311.6,-402.84 337.81,-406.78 360.62,-411.88 366.58,-413.2 372.86,-414.85 378.9,-416.55"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="378.11,-418.51 384.46,-418.16 379.28,-414.48 378.11,-418.51"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts -->
<g id="edge13" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M292.06,-394.18C316.76,-391.84 352.47,-388.47 378.43,-386.01"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="378.46,-388.12 384.24,-385.46 378.07,-383.94 378.46,-388.12"/>
</g>
<!-- fs -->
<g id="node21" class="node">
<title>fs</title>
<g id="a_node21"><a xlink:href="https://nodejs.org/api/fs.html" xlink:title="fs">
<path fill="#ffffcc" stroke="grey" d="M433.71,-17.75C433.71,-17.75 391.54,-17.75 391.54,-17.75 388.58,-17.75 385.62,-14.79 385.62,-11.83 385.62,-11.83 385.62,-5.92 385.62,-5.92 385.62,-2.96 388.58,0 391.54,0 391.54,0 433.71,0 433.71,0 436.67,0 439.62,-2.96 439.62,-5.92 439.62,-5.92 439.62,-11.83 439.62,-11.83 439.62,-14.79 436.67,-17.75 433.71,-17.75"/>
<text xml:space="preserve" text-anchor="start" x="409.25" y="-5.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="grey">fs</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;fs -->
<g id="edge15" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;fs</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M292.3,-401.62C314.46,-403.45 344.02,-401.62 360.62,-382.88 373.85,-367.94 356.89,-40.01 368.62,-23.88 371.19,-20.35 374.64,-17.65 378.48,-15.58"/>
<polygon fill="black" stroke="black" points="379.16,-17.57 383.82,-13.26 377.48,-13.72 379.16,-17.57"/>
</g>
<!-- path -->
<g id="node22" class="node">
<title>path</title>
<g id="a_node22"><a xlink:href="https://nodejs.org/api/path.html" xlink:title="path">
<path fill="#ffffcc" stroke="grey" d="M433.71,-77.75C433.71,-77.75 391.54,-77.75 391.54,-77.75 388.58,-77.75 385.62,-74.79 385.62,-71.83 385.62,-71.83 385.62,-65.92 385.62,-65.92 385.62,-62.96 388.58,-60 391.54,-60 391.54,-60 433.71,-60 433.71,-60 436.67,-60 439.62,-62.96 439.62,-65.92 439.62,-65.92 439.62,-71.83 439.62,-71.83 439.62,-74.79 436.67,-77.75 433.71,-77.75"/>
<text xml:space="preserve" text-anchor="start" x="403.62" y="-65.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="grey">path</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;path -->
<g id="edge16" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migrator.ts&#45;&gt;path</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M292.22,-401.55C314.34,-403.35 343.88,-401.5 360.62,-382.88 368.65,-373.95 365.94,-178.58 368.62,-166.88 375.65,-136.23 392.17,-103.28 402.57,-84.46"/>
<polygon fill="black" stroke="black" points="404.24,-85.77 405.35,-79.52 400.58,-83.71 404.24,-85.77"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="edge12" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<path fill="none" stroke="black" d="M440.08,-386.36C447.05,-387.27 454.67,-388.27 462.01,-389.24"/>
<polygon fill="none" stroke="black" points="461.51,-391.29 467.73,-389.99 462.05,-387.13 461.51,-391.29"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0001__enable&#45;postgis.ts -->
<g id="node15" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0001__enable&#45;postgis.ts</title>
<g id="a_node15"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/migration/V0001__enable-postgis.ts" xlink:title="no&#45;orphans">
<path fill="#ccffcc" stroke="orange" d="M318.21,-203.75C318.21,-203.75 206.79,-203.75 206.79,-203.75 203.83,-203.75 200.88,-200.79 200.88,-197.83 200.88,-197.83 200.88,-191.92 200.88,-191.92 200.88,-188.96 203.83,-186 206.79,-186 206.79,-186 318.21,-186 318.21,-186 321.17,-186 324.12,-188.96 324.12,-191.92 324.12,-191.92 324.12,-197.83 324.12,-197.83 324.12,-200.79 321.17,-203.75 318.21,-203.75"/>
<text xml:space="preserve" text-anchor="start" x="208.88" y="-191.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="orange">V0001__enable&#45;postgis.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0002__add&#45;common_features_table.ts -->
<g id="node16" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0002__add&#45;common_features_table.ts</title>
<g id="a_node16"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/migration/V0002__add-common_features_table.ts" xlink:title="no&#45;orphans">
<path fill="#ccffcc" stroke="orange" d="M346.71,-233.75C346.71,-233.75 178.29,-233.75 178.29,-233.75 175.33,-233.75 172.38,-230.79 172.38,-227.83 172.38,-227.83 172.38,-221.92 172.38,-221.92 172.38,-218.96 175.33,-216 178.29,-216 178.29,-216 346.71,-216 346.71,-216 349.67,-216 352.62,-218.96 352.62,-221.92 352.62,-221.92 352.62,-227.83 352.62,-227.83 352.62,-230.79 349.67,-233.75 346.71,-233.75"/>
<text xml:space="preserve" text-anchor="start" x="180.38" y="-221.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="orange">V0002__add&#45;common_features_table.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0003__add&#45;localities_table.ts -->
<g id="node17" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0003__add&#45;localities_table.ts</title>
<g id="a_node17"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/migration/V0003__add-localities_table.ts" xlink:title="no&#45;orphans">
<path fill="#ccffcc" stroke="orange" d="M327.96,-263.75C327.96,-263.75 197.04,-263.75 197.04,-263.75 194.08,-263.75 191.12,-260.79 191.12,-257.83 191.12,-257.83 191.12,-251.92 191.12,-251.92 191.12,-248.96 194.08,-246 197.04,-246 197.04,-246 327.96,-246 327.96,-246 330.92,-246 333.88,-248.96 333.88,-251.92 333.88,-251.92 333.88,-257.83 333.88,-257.83 333.88,-260.79 330.92,-263.75 327.96,-263.75"/>
<text xml:space="preserve" text-anchor="start" x="199.12" y="-251.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="orange">V0003__add&#45;localities_table.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0004__add&#45;home_table.ts -->
<g id="node18" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0004__add&#45;home_table.ts</title>
<g id="a_node18"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/migration/V0004__add-home_table.ts" xlink:title="no&#45;orphans">
<path fill="#ccffcc" stroke="orange" d="M321.58,-293.75C321.58,-293.75 203.42,-293.75 203.42,-293.75 200.46,-293.75 197.5,-290.79 197.5,-287.83 197.5,-287.83 197.5,-281.92 197.5,-281.92 197.5,-278.96 200.46,-276 203.42,-276 203.42,-276 321.58,-276 321.58,-276 324.54,-276 327.5,-278.96 327.5,-281.92 327.5,-281.92 327.5,-287.83 327.5,-287.83 327.5,-290.79 324.54,-293.75 321.58,-293.75"/>
<text xml:space="preserve" text-anchor="start" x="205.5" y="-281.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="orange">V0004__add&#45;home_table.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0005__add&#45;sale_price_table.ts -->
<g id="node19" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0005__add&#45;sale_price_table.ts</title>
<g id="a_node19"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/migration/V0005__add-sale_price_table.ts" xlink:title="no&#45;orphans">
<path fill="#ccffcc" stroke="orange" d="M331.33,-323.75C331.33,-323.75 193.67,-323.75 193.67,-323.75 190.71,-323.75 187.75,-320.79 187.75,-317.83 187.75,-317.83 187.75,-311.92 187.75,-311.92 187.75,-308.96 190.71,-306 193.67,-306 193.67,-306 331.33,-306 331.33,-306 334.29,-306 337.25,-308.96 337.25,-311.92 337.25,-311.92 337.25,-317.83 337.25,-317.83 337.25,-320.79 334.29,-323.75 331.33,-323.75"/>
<text xml:space="preserve" text-anchor="start" x="195.75" y="-311.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="orange">V0005__add&#45;sale_price_table.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0006__add&#45;rent_price_table.ts -->
<g id="node20" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/migration/V0006__add&#45;rent_price_table.ts</title>
<g id="a_node20"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/migration/V0006__add-rent_price_table.ts" xlink:title="no&#45;orphans">
<path fill="#ccffcc" stroke="orange" d="M330.58,-353.75C330.58,-353.75 194.42,-353.75 194.42,-353.75 191.46,-353.75 188.5,-350.79 188.5,-347.83 188.5,-347.83 188.5,-341.92 188.5,-341.92 188.5,-338.96 191.46,-336 194.42,-336 194.42,-336 330.58,-336 330.58,-336 333.54,-336 336.5,-338.96 336.5,-341.92 336.5,-341.92 336.5,-347.83 336.5,-347.83 336.5,-350.79 333.54,-353.75 330.58,-353.75"/>
<text xml:space="preserve" text-anchor="start" x="196.5" y="-341.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="orange">V0006__add&#45;rent_price_table.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/compress.ts -->
<g id="node23" class="node">
<title>apps/service&#45;scrape/script/compress.ts</title>
<g id="a_node23"><a xlink:href="apps/service-scrape/script/compress.ts" xlink:title="compress.ts">
<path fill="#ddfeff" stroke="black" d="M118.08,-127.75C118.08,-127.75 65.17,-127.75 65.17,-127.75 62.21,-127.75 59.25,-124.79 59.25,-121.83 59.25,-121.83 59.25,-115.92 59.25,-115.92 59.25,-112.96 62.21,-110 65.17,-110 65.17,-110 118.08,-110 118.08,-110 121.04,-110 124,-112.96 124,-115.92 124,-115.92 124,-121.83 124,-121.83 124,-124.79 121.04,-127.75 118.08,-127.75"/>
<text xml:space="preserve" text-anchor="start" x="67.25" y="-115.2" font-family="Helvetica,sans-Serif" font-size="9.00">compress.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/compress.ts&#45;&gt;fs -->
<g id="edge18" class="edge">
<title>apps/service&#45;scrape/script/compress.ts&#45;&gt;fs</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M119.55,-109.59C177.69,-89.54 314.86,-42.24 378.33,-20.35"/>
<polygon fill="black" stroke="black" points="378.92,-22.38 383.9,-18.43 377.55,-18.4 378.92,-22.38"/>
</g>
<!-- apps/service&#45;scrape/script/util.ts -->
<g id="node24" class="node">
<title>apps/service&#45;scrape/script/util.ts</title>
<g id="a_node24"><a xlink:href="apps/service-scrape/script/util.ts" xlink:title="util.ts">
<path fill="#ddfeff" stroke="black" d="M283.58,-127.75C283.58,-127.75 241.42,-127.75 241.42,-127.75 238.46,-127.75 235.5,-124.79 235.5,-121.83 235.5,-121.83 235.5,-115.92 235.5,-115.92 235.5,-112.96 238.46,-110 241.42,-110 241.42,-110 283.58,-110 283.58,-110 286.54,-110 289.5,-112.96 289.5,-115.92 289.5,-115.92 289.5,-121.83 289.5,-121.83 289.5,-124.79 286.54,-127.75 283.58,-127.75"/>
<text xml:space="preserve" text-anchor="start" x="252" y="-115.2" font-family="Helvetica,sans-Serif" font-size="9.00">util.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/compress.ts&#45;&gt;apps/service&#45;scrape/script/util.ts -->
<g id="edge17" class="edge">
<title>apps/service&#45;scrape/script/compress.ts&#45;&gt;apps/service&#45;scrape/script/util.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M124.39,-118.88C154.15,-118.88 198.43,-118.88 228.57,-118.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="228.24,-120.98 234.24,-118.88 228.24,-116.78 228.24,-120.98"/>
</g>
<!-- apps/service&#45;scrape/script/util.ts&#45;&gt;fs -->
<g id="edge19" class="edge">
<title>apps/service&#45;scrape/script/util.ts&#45;&gt;fs</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M289.92,-109.64C312.19,-100.48 343.16,-84.25 360.62,-59.88 370.17,-46.55 357.73,-36.12 368.62,-23.88 371.45,-20.7 374.99,-18.19 378.82,-16.22"/>
<polygon fill="black" stroke="black" points="379.38,-18.26 384.06,-13.97 377.72,-14.4 379.38,-18.26"/>
</g>
<!-- zlib -->
<g id="node25" class="node">
<title>zlib</title>
<g id="a_node25"><a xlink:href="https://nodejs.org/api/zlib.html" xlink:title="zlib">
<path fill="#ffffcc" stroke="grey" d="M433.71,-47.75C433.71,-47.75 391.54,-47.75 391.54,-47.75 388.58,-47.75 385.62,-44.79 385.62,-41.83 385.62,-41.83 385.62,-35.92 385.62,-35.92 385.62,-32.96 388.58,-30 391.54,-30 391.54,-30 433.71,-30 433.71,-30 436.67,-30 439.62,-32.96 439.62,-35.92 439.62,-35.92 439.62,-41.83 439.62,-41.83 439.62,-44.79 436.67,-47.75 433.71,-47.75"/>
<text xml:space="preserve" text-anchor="start" x="405.5" y="-35.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="grey">zlib</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/util.ts&#45;&gt;zlib -->
<g id="edge20" class="edge">
<title>apps/service&#45;scrape/script/util.ts&#45;&gt;zlib</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M279.96,-109.54C299.53,-98.28 333.01,-78.56 360.62,-59.88 364.31,-57.38 364.7,-55.96 368.62,-53.88 371.69,-52.24 374.97,-50.73 378.3,-49.34"/>
<polygon fill="black" stroke="black" points="378.92,-51.35 383.75,-47.22 377.39,-47.44 378.92,-51.35"/>
</g>
</g>
</svg>
    <script>
      var gMode = new Mode();

var title2ElementMap = (function makeElementMap() {
  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  return new Title2ElementMap(edges, nodes);
})();

function getHoverHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function hoverHighlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (
      currentHighlightedTitle !== closestTitleText &&
      gMode.get() === gMode.HOVER
    ) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

function getSelectHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function selectHighlightHandler(pMouseEvent) {
    pMouseEvent.preventDefault();

    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (closestNodeOrEdge) {
      gMode.setToSelect();
    } else {
      gMode.setToHover();
    }
    if (currentHighlightedTitle !== closestTitleText) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}
function Mode() {
  var HOVER = 1;
  var SELECT = 2;

  function setToHover() {
    this._mode = HOVER;
  }
  function setToSelect() {
    this._mode = SELECT;
  }

  /**
   * @returns {number}
   */
  function get() {
    return this._mode || HOVER;
  }

  return {
    HOVER: HOVER,
    SELECT: SELECT,
    setToHover: setToHover,
    setToSelect: setToSelect,
    get: get,
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

function resetNodesAndEdges() {
  nodeListToArray(document.querySelectorAll(".current")).forEach(
    removeHighlight,
  );
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}

var gHints = {
  HIDDEN: 1,
  SHOWN: 2,
  state: 1, // === HIDDEN
  show: function () {
    document.getElementById("hints").removeAttribute("style");
    gHints.state = gHints.SHOWN;
  },
  hide: function () {
    document.getElementById("hints").style = "display:none";
    gHints.state = gHints.HIDDEN;
  },
  toggle: function () {
    if ((gHints.state || gHints.HIDDEN) === gHints.HIDDEN) {
      gHints.show();
    } else {
      gHints.hide();
    }
  },
};

/** @param {KeyboardEvent} pKeyboardEvent */
function keyboardEventHandler(pKeyboardEvent) {
  if (pKeyboardEvent.key === "Escape") {
    resetNodesAndEdges();
    gMode.setToHover();
    gHints.hide();
  }
  if (pKeyboardEvent.key === "F1") {
    pKeyboardEvent.preventDefault();
    gHints.toggle();
  }
}

document.addEventListener("contextmenu", getSelectHandler(title2ElementMap));
document.addEventListener("mouseover", getHoverHandler(title2ElementMap));
document.addEventListener("keydown", keyboardEventHandler);
document.getElementById("close-hints").addEventListener("click", gHints.hide);
document.getElementById("button_help").addEventListener("click", gHints.toggle);
document.querySelector("svg").insertAdjacentHTML(
  "afterbegin",
  `<linearGradient id="edgeGradient">
      <stop offset="0%" stop-color="fuchsia"/>
      <stop offset="100%" stop-color="purple"/>
   </linearGradient>
  `,
);

// Add a small increment to the last value of the path to make gradients on
// horizontal paths work. Without them all browsers I tested with (firefox,
// chrome) do not render the gradient, but instead make the line transparent
// (or the color of the background, I haven't looked into it that deeply,
// but for the hack it doesn't matter which).
function skewLineABit(lDrawingInstructions) {
  var lLastValue = lDrawingInstructions.match(/(\d+\.?\d*)$/)[0];
  // Smaller values than .001 _should_ work as well, but don't in all
  // cases. Even this value is so small that it is not visible to the
  // human eye (tested with the two I have at my disposal).
  var lIncrement = 0.001;
  var lNewLastValue = parseFloat(lLastValue) + lIncrement;

  return lDrawingInstructions.replace(lLastValue, lNewLastValue);
}

nodeListToArray(document.querySelectorAll("path"))
  .filter(function (pElement) {
    return pElement.parentElement.classList.contains("edge");
  })
  .forEach(function (pElement) {
    pElement.attributes.d.value = skewLineABit(pElement.attributes.d.value);
  });

    </script>
  </body>
</html>
