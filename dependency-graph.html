<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
.node:hover path,
.node.current path,
.node:active polygon,
.node:hover polygon,
.node.current polygon {
  stroke: fuchsia;
  stroke-width: 2;
}

.edge:active path,
.edge:hover path,
.edge.current path,
.edge:active ellipse,
.edge:hover ellipse,
.edge.current ellipse {
  stroke: url(#edgeGradient);
  stroke-width: 3;
  stroke-opacity: 1;
}

.edge:active polygon,
.edge:hover polygon,
.edge.current polygon {
  stroke: fuchsia;
  stroke-width: 3;
  fill: fuchsia;
  stroke-opacity: 1;
  fill-opacity: 1;
}

.edge:active text,
.edge:hover text {
  fill: fuchsia;
}

.cluster path {
  stroke-width: 3;
}

.cluster:active path,
.cluster:hover path {
  fill: #ffff0011;
}

div.hint {
  background-color: #000000aa;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  border-radius: 1rem;
  position: fixed;
  top: calc(50% - 4em);
  right: calc(50% - 10em);
  border: none;
  padding: 1em 3em 1em 1em;
}

.hint button {
  position: absolute;
  font-weight: bolder;
  right: 0.6em;
  top: 0.6em;
  color: inherit;
  background-color: inherit;
  border: 1px solid currentColor;
  border-radius: 1em;
  margin-left: 0.6em;
}

.hint a {
  color: inherit;
}

#button_help {
  color: white;
  background-color: #00000011;
  border-radius: 1em;
  position: fixed;
  top: 1em;
  right: 1em;
  font-size: 24pt;
  font-weight: bolder;
  width: 2em;
  height: 2em;
  border: none;
}

#button_help:hover {
  cursor: pointer;
  background-color: #00000077;
}

@media print {
  #button_help {
    display: none;
  }

  div.hint {
    display: none;
  }
}

    </style>
  </head>
  <body>
    <button id="button_help">?</button>
    <div id="hints" class="hint" style="display: none">
      <button id="close-hints">x</button>
      <span id="hint-text"></span>
      <ul>
        <li><b>Hover</b> - highlight</li>
        <li><b>Right-click</b> - pin highlight</li>
        <li><b>ESC</b> - clear</li>
      </ul>
    </div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="532pt" height="626pt"
 viewBox="0.00 0.00 531.62 625.88" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 621.88)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-621.88 527.62,-621.88 527.62,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_apps</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M20,-55.88C20,-55.88 503.62,-55.88 503.62,-55.88 509.62,-55.88 515.62,-61.88 515.62,-67.88 515.62,-67.88 515.62,-597.88 515.62,-597.88 515.62,-603.88 509.62,-609.88 503.62,-609.88 503.62,-609.88 20,-609.88 20,-609.88 14,-609.88 8,-603.88 8,-597.88 8,-597.88 8,-67.87 8,-67.87 8,-61.88 14,-55.88 20,-55.88"/>
<text text-anchor="middle" x="261.81" y="-597.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">apps</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_apps/service&#45;scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M28,-63.88C28,-63.88 495.62,-63.88 495.62,-63.88 501.62,-63.88 507.62,-69.88 507.62,-75.88 507.62,-75.88 507.62,-571.88 507.62,-571.88 507.62,-577.88 501.62,-583.88 495.62,-583.88 495.62,-583.88 28,-583.88 28,-583.88 22,-583.88 16,-577.88 16,-571.88 16,-571.88 16,-75.88 16,-75.88 16,-69.87 22,-63.88 28,-63.88"/>
<text text-anchor="middle" x="261.81" y="-571.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">service&#45;scrape</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M36,-355.88C36,-355.88 409.62,-355.88 409.62,-355.88 415.62,-355.88 421.62,-361.88 421.62,-367.88 421.62,-367.88 421.62,-545.88 421.62,-545.88 421.62,-551.88 415.62,-557.88 409.62,-557.88 409.62,-557.88 36,-557.88 36,-557.88 30,-557.88 24,-551.88 24,-545.88 24,-545.88 24,-367.88 24,-367.88 24,-361.88 30,-355.88 36,-355.88"/>
<text text-anchor="middle" x="222.81" y="-545.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">function&#45;batch_scrape_suburbs</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M44,-363.88C44,-363.88 401.62,-363.88 401.62,-363.88 407.62,-363.88 413.62,-369.88 413.62,-375.88 413.62,-375.88 413.62,-493.88 413.62,-493.88 413.62,-499.88 407.62,-505.88 401.62,-505.88 401.62,-505.88 44,-505.88 44,-505.88 38,-505.88 32,-499.88 32,-493.88 32,-493.88 32,-375.88 32,-375.88 32,-369.88 38,-363.88 44,-363.88"/>
<text text-anchor="middle" x="222.81" y="-493.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M52,-371.88C52,-371.88 229,-371.88 229,-371.88 235,-371.88 241,-377.88 241,-383.88 241,-383.88 241,-441.88 241,-441.88 241,-447.88 235,-453.88 229,-453.88 229,-453.88 52,-453.88 52,-453.88 46,-453.88 40,-447.88 40,-441.88 40,-441.88 40,-383.88 40,-383.88 40,-377.88 46,-371.88 52,-371.88"/>
<text text-anchor="middle" x="140.5" y="-441.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">scrape</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M168.38,-131.88C168.38,-131.88 487.62,-131.88 487.62,-131.88 493.62,-131.88 499.62,-137.88 499.62,-143.88 499.62,-143.88 499.62,-335.88 499.62,-335.88 499.62,-341.88 493.62,-347.88 487.62,-347.88 487.62,-347.88 168.38,-347.88 168.38,-347.88 162.38,-347.88 156.38,-341.88 156.38,-335.88 156.38,-335.88 156.38,-143.88 156.38,-143.88 156.38,-137.88 162.38,-131.88 168.38,-131.88"/>
<text text-anchor="middle" x="328" y="-335.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">lib&#45;db_service_scrape</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape/dist</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M176.38,-139.88C176.38,-139.88 223.38,-139.88 223.38,-139.88 229.38,-139.88 235.38,-145.88 235.38,-151.88 235.38,-151.88 235.38,-179.88 235.38,-179.88 235.38,-185.88 229.38,-191.88 223.38,-191.88 223.38,-191.88 176.38,-191.88 176.38,-191.88 170.38,-191.88 164.38,-185.88 164.38,-179.88 164.38,-179.88 164.38,-151.88 164.38,-151.88 164.38,-145.88 170.38,-139.88 176.38,-139.88"/>
<text text-anchor="middle" x="199.88" y="-179.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">dist</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_apps/service&#45;scrape/lib&#45;db_service_scrape/src</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M176.88,-199.88C176.88,-199.88 479.62,-199.88 479.62,-199.88 485.62,-199.88 491.62,-205.88 491.62,-211.88 491.62,-211.88 491.62,-283.88 491.62,-283.88 491.62,-289.88 485.62,-295.88 479.62,-295.88 479.62,-295.88 176.88,-295.88 176.88,-295.88 170.88,-295.88 164.88,-289.88 164.88,-283.88 164.88,-283.88 164.88,-211.88 164.88,-211.88 164.88,-205.88 170.88,-199.88 176.88,-199.88"/>
<text text-anchor="middle" x="328.25" y="-283.32" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_apps/service&#45;scrape/script</title>
<path fill="#ffffff" stroke="lightgrey" stroke-width="2" d="M63.25,-71.88C63.25,-71.88 222.88,-71.88 222.88,-71.88 228.88,-71.88 234.88,-77.88 234.88,-83.88 234.88,-83.88 234.88,-111.88 234.88,-111.88 234.88,-117.88 228.88,-123.88 222.88,-123.88 222.88,-123.88 63.25,-123.88 63.25,-123.88 57.25,-123.88 51.25,-117.88 51.25,-111.88 51.25,-111.88 51.25,-83.88 51.25,-83.88 51.25,-77.88 57.25,-71.88 63.25,-71.88"/>
<text text-anchor="middle" x="143.06" y="-111.33" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">script</text>
</g>
<!-- .dependency&#45;cruiser.cjs -->
<g id="node1" class="node">
<title>.dependency&#45;cruiser.cjs</title>
<g id="a_node1"><a xlink:href=".dependency-cruiser.cjs" xlink:title=".dependency&#45;cruiser.cjs">
<path fill="#ccffcc" stroke="black" d="M142.46,-47.75C142.46,-47.75 40.79,-47.75 40.79,-47.75 37.83,-47.75 34.88,-44.79 34.88,-41.83 34.88,-41.83 34.88,-35.92 34.88,-35.92 34.88,-32.96 37.83,-30 40.79,-30 40.79,-30 142.46,-30 142.46,-30 145.42,-30 148.38,-32.96 148.38,-35.92 148.38,-35.92 148.38,-41.83 148.38,-41.83 148.38,-44.79 145.42,-47.75 142.46,-47.75"/>
<text text-anchor="middle" x="91.62" y="-35.2" font-family="Helvetica,sans-Serif" font-size="9.00">.dependency&#45;cruiser.cjs</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts -->
<g id="node2" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts</title>
<g id="a_node2"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/env.ts" xlink:title="env.ts">
<path fill="#ddfeff" stroke="black" d="M399.71,-426.75C399.71,-426.75 357.54,-426.75 357.54,-426.75 354.58,-426.75 351.62,-423.79 351.62,-420.83 351.62,-420.83 351.62,-414.92 351.62,-414.92 351.62,-411.96 354.58,-409 357.54,-409 357.54,-409 399.71,-409 399.71,-409 402.67,-409 405.62,-411.96 405.62,-414.92 405.62,-414.92 405.62,-420.83 405.62,-420.83 405.62,-423.79 402.67,-426.75 399.71,-426.75"/>
<text text-anchor="start" x="366.62" y="-414.2" font-family="Helvetica,sans-Serif" font-size="9.00">env.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts -->
<g id="node3" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts</title>
<g id="a_node3"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/index.mts" xlink:title="index.mts">
<path fill="#ddfeff" stroke="black" d="M221.46,-479.75C221.46,-479.75 178.29,-479.75 178.29,-479.75 175.33,-479.75 172.38,-476.79 172.38,-473.83 172.38,-473.83 172.38,-467.92 172.38,-467.92 172.38,-464.96 175.33,-462 178.29,-462 178.29,-462 221.46,-462 221.46,-462 224.42,-462 227.38,-464.96 227.38,-467.92 227.38,-467.92 227.38,-473.83 227.38,-473.83 227.38,-476.79 224.42,-479.75 221.46,-479.75"/>
<text text-anchor="start" x="180.38" y="-467.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.mts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="node4" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<g id="a_node4"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/instrumentation.ts" xlink:title="instrumentation.ts">
<path fill="#ddfeff" stroke="black" d="M331.08,-426.75C331.08,-426.75 254.92,-426.75 254.92,-426.75 251.96,-426.75 249,-423.79 249,-420.83 249,-420.83 249,-414.92 249,-414.92 249,-411.96 251.96,-409 254.92,-409 254.92,-409 331.08,-409 331.08,-409 334.04,-409 337,-411.96 337,-414.92 337,-414.92 337,-420.83 337,-420.83 337,-423.79 334.04,-426.75 331.08,-426.75"/>
<text text-anchor="start" x="257" y="-414.2" font-family="Helvetica,sans-Serif" font-size="9.00">instrumentation.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge1" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/index.mts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M227.72,-462.84C232.26,-461.11 236.84,-459.12 241,-456.88 254.08,-449.83 267.37,-439.54 277.1,-431.3"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="278.26,-433.08 281.43,-427.57 275.52,-429.9 278.26,-433.08"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts -->
<g id="edge2" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/env.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M337.28,-417.88C339.67,-417.88 342.06,-417.88 344.41,-417.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="344.39,-419.98 350.39,-417.88 344.39,-415.78 344.39,-419.98"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts -->
<g id="node5" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts</title>
<g id="a_node5"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/domainListings.ts" xlink:title="domainListings.ts">
<path fill="#ddfeff" stroke="black" d="M129.33,-397.75C129.33,-397.75 53.92,-397.75 53.92,-397.75 50.96,-397.75 48,-394.79 48,-391.83 48,-391.83 48,-385.92 48,-385.92 48,-382.96 50.96,-380 53.92,-380 53.92,-380 129.33,-380 129.33,-380 132.29,-380 135.25,-382.96 135.25,-385.92 135.25,-385.92 135.25,-391.83 135.25,-391.83 135.25,-394.79 132.29,-397.75 129.33,-397.75"/>
<text text-anchor="start" x="56" y="-385.2" font-family="Helvetica,sans-Serif" font-size="9.00">domainListings.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge3" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M128.54,-398.17C137.58,-400.28 147.29,-402.34 156.38,-403.88 184.55,-408.62 216.31,-412.01 242.01,-414.26"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="241.69,-416.34 247.84,-414.76 242.04,-412.15 241.69,-416.34"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts -->
<g id="node6" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts</title>
<g id="a_node6"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/scrapeUtil.ts" xlink:title="scrapeUtil.ts">
<path fill="#ddfeff" stroke="black" d="M227.08,-397.75C227.08,-397.75 172.67,-397.75 172.67,-397.75 169.71,-397.75 166.75,-394.79 166.75,-391.83 166.75,-391.83 166.75,-385.92 166.75,-385.92 166.75,-382.96 169.71,-380 172.67,-380 172.67,-380 227.08,-380 227.08,-380 230.04,-380 233,-382.96 233,-385.92 233,-385.92 233,-391.83 233,-391.83 233,-394.79 230.04,-397.75 227.08,-397.75"/>
<text text-anchor="start" x="174.75" y="-385.2" font-family="Helvetica,sans-Serif" font-size="9.00">scrapeUtil.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts -->
<g id="edge4" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M135.53,-388.88C143.54,-388.88 151.88,-388.88 159.76,-388.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="159.36,-390.98 165.36,-388.88 159.36,-386.78 159.36,-390.98"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.d.ts -->
<g id="node7" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.d.ts</title>
<g id="a_node7"><a xlink:href="apps/service-scrape/lib-db_service_scrape/dist/index.d.ts" xlink:title="index.d.ts">
<polygon fill="#ddfeff" stroke="black" points="227.38,-165.75 225.9,-167.72 215.54,-167.72 214.06,-165.75 172.38,-165.75 172.38,-148 227.38,-148 227.38,-165.75"/>
<text text-anchor="start" x="180.38" y="-153.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.d.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.d.ts -->
<g id="edge5" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainListings.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.d.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M94.01,-379.78C98.72,-350.98 116.12,-259.93 156.38,-196.88 162.88,-186.69 172.54,-177.31 181.01,-170.2"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="182.05,-172.06 185.39,-166.65 179.41,-168.8 182.05,-172.06"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge8" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/scrapeUtil.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M230.21,-398.21C238.5,-400.85 247.62,-403.75 256.24,-406.5"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="255.5,-408.46 261.86,-408.28 256.77,-404.46 255.5,-408.46"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts -->
<g id="node8" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts</title>
<g id="a_node8"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/src/scrape/domainSuburb.ts" xlink:title="domainSuburb.ts">
<path fill="#ddfeff" stroke="black" d="M128.58,-427.75C128.58,-427.75 54.67,-427.75 54.67,-427.75 51.71,-427.75 48.75,-424.79 48.75,-421.83 48.75,-421.83 48.75,-415.92 48.75,-415.92 48.75,-412.96 51.71,-410 54.67,-410 54.67,-410 128.58,-410 128.58,-410 131.54,-410 134.5,-412.96 134.5,-415.92 134.5,-415.92 134.5,-421.83 134.5,-421.83 134.5,-424.79 131.54,-427.75 128.58,-427.75"/>
<text text-anchor="start" x="56.75" y="-415.2" font-family="Helvetica,sans-Serif" font-size="9.00">domainSuburb.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts -->
<g id="edge6" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/instrumentation.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M134.91,-418.66C166.17,-418.51 208.87,-418.29 241.86,-418.13"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="241.85,-420.23 247.84,-418.1 241.83,-416.03 241.85,-420.23"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.d.ts -->
<g id="edge7" class="edge">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/src/scrape/domainSuburb.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/dist/index.d.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M134.86,-413.87C140.07,-411.56 144.81,-408.34 148.38,-403.88 162.73,-385.88 146.84,-217.82 156.38,-196.88 161.24,-186.18 170.42,-176.97 179,-170.09"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="180,-171.97 183.5,-166.67 177.46,-168.63 180,-171.97"/>
</g>
<!-- apps/service&#45;scrape/function&#45;batch_scrape_suburbs/vite.config.ts -->
<g id="node9" class="node">
<title>apps/service&#45;scrape/function&#45;batch_scrape_suburbs/vite.config.ts</title>
<g id="a_node9"><a xlink:href="apps/service-scrape/function-batch_scrape_suburbs/vite.config.ts" xlink:title="vite.config.ts">
<path fill="#ccffcc" stroke="black" d="M118.83,-531.75C118.83,-531.75 64.42,-531.75 64.42,-531.75 61.46,-531.75 58.5,-528.79 58.5,-525.83 58.5,-525.83 58.5,-519.92 58.5,-519.92 58.5,-516.96 61.46,-514 64.42,-514 64.42,-514 118.83,-514 118.83,-514 121.79,-514 124.75,-516.96 124.75,-519.92 124.75,-519.92 124.75,-525.83 124.75,-525.83 124.75,-528.79 121.79,-531.75 118.83,-531.75"/>
<text text-anchor="start" x="66.5" y="-519.2" font-family="Helvetica,sans-Serif" font-size="9.00">vite.config.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts -->
<g id="node10" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts</title>
<g id="a_node10"><a xlink:href="apps/service-scrape/lib-db_service_scrape/drizzle.config.ts" xlink:title="drizzle.config.ts">
<path fill="#ddfeff" stroke="black" d="M326.58,-321.75C326.58,-321.75 259.42,-321.75 259.42,-321.75 256.46,-321.75 253.5,-318.79 253.5,-315.83 253.5,-315.83 253.5,-309.92 253.5,-309.92 253.5,-306.96 256.46,-304 259.42,-304 259.42,-304 326.58,-304 326.58,-304 329.54,-304 332.5,-306.96 332.5,-309.92 332.5,-309.92 332.5,-315.83 332.5,-315.83 332.5,-318.79 329.54,-321.75 326.58,-321.75"/>
<text text-anchor="start" x="261.5" y="-309.2" font-family="Helvetica,sans-Serif" font-size="9.00">drizzle.config.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts -->
<g id="node11" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts</title>
<g id="a_node11"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/env.ts" xlink:title="env.ts">
<path fill="#ddfeff" stroke="black" d="M399.71,-269.75C399.71,-269.75 357.54,-269.75 357.54,-269.75 354.58,-269.75 351.62,-266.79 351.62,-263.83 351.62,-263.83 351.62,-257.92 351.62,-257.92 351.62,-254.96 354.58,-252 357.54,-252 357.54,-252 399.71,-252 399.71,-252 402.67,-252 405.62,-254.96 405.62,-257.92 405.62,-257.92 405.62,-263.83 405.62,-263.83 405.62,-266.79 402.67,-269.75 399.71,-269.75"/>
<text text-anchor="start" x="366.62" y="-257.2" font-family="Helvetica,sans-Serif" font-size="9.00">env.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts -->
<g id="edge9" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/drizzle.config.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M327.51,-303.59C330.8,-302.2 334.03,-300.63 337,-298.88 347.74,-292.53 357.99,-282.91 365.5,-274.94"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="366.7,-276.75 369.2,-270.9 363.6,-273.91 366.7,-276.75"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts -->
<g id="node12" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts</title>
<g id="a_node12"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/index.ts" xlink:title="index.ts">
<path fill="#ddfeff" stroke="black" d="M220.96,-235.75C220.96,-235.75 178.79,-235.75 178.79,-235.75 175.83,-235.75 172.88,-232.79 172.88,-229.83 172.88,-229.83 172.88,-223.92 172.88,-223.92 172.88,-220.96 175.83,-218 178.79,-218 178.79,-218 220.96,-218 220.96,-218 223.92,-218 226.88,-220.96 226.88,-223.92 226.88,-223.92 226.88,-229.83 226.88,-229.83 226.88,-232.79 223.92,-235.75 220.96,-235.75"/>
<text text-anchor="start" x="184.12" y="-223.2" font-family="Helvetica,sans-Serif" font-size="9.00">index.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts -->
<g id="node13" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts</title>
<g id="a_node13"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/kysely.ts" xlink:title="kysely.ts">
<path fill="#ddfeff" stroke="black" d="M314.08,-257.75C314.08,-257.75 271.92,-257.75 271.92,-257.75 268.96,-257.75 266,-254.79 266,-251.83 266,-251.83 266,-245.92 266,-245.92 266,-242.96 268.96,-240 271.92,-240 271.92,-240 314.08,-240 314.08,-240 317.04,-240 320,-242.96 320,-245.92 320,-245.92 320,-251.83 320,-251.83 320,-254.79 317.04,-257.75 314.08,-257.75"/>
<text text-anchor="start" x="275.75" y="-245.2" font-family="Helvetica,sans-Serif" font-size="9.00">kysely.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts -->
<g id="edge10" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M227.23,-233.24C237.15,-235.63 248.55,-238.39 259,-240.91"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="258.49,-242.95 264.82,-242.31 259.48,-238.86 258.49,-242.95"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="node14" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<g id="a_node14"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/schema.ts" xlink:title="schema.ts">
<path fill="#ddfeff" stroke="black" d="M401.33,-239.75C401.33,-239.75 355.92,-239.75 355.92,-239.75 352.96,-239.75 350,-236.79 350,-233.83 350,-233.83 350,-227.92 350,-227.92 350,-224.96 352.96,-222 355.92,-222 355.92,-222 401.33,-222 401.33,-222 404.29,-222 407.25,-224.96 407.25,-227.92 407.25,-227.92 407.25,-233.83 407.25,-233.83 407.25,-236.79 404.29,-239.75 401.33,-239.75"/>
<text text-anchor="start" x="358" y="-227.2" font-family="Helvetica,sans-Serif" font-size="9.00">schema.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="edge11" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M227.34,-227.47C258.12,-228.17 309.06,-229.32 342.97,-230.09"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="342.57,-232.18 348.61,-230.22 342.66,-227.98 342.57,-232.18"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts -->
<g id="node15" class="node">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts</title>
<g id="a_node15"><a xlink:href="apps/service-scrape/lib-db_service_scrape/src/util.ts" xlink:title="util.ts">
<path fill="#ddfeff" stroke="black" d="M477.71,-232.75C477.71,-232.75 435.54,-232.75 435.54,-232.75 432.58,-232.75 429.62,-229.79 429.62,-226.83 429.62,-226.83 429.62,-220.92 429.62,-220.92 429.62,-217.96 432.58,-215 435.54,-215 435.54,-215 477.71,-215 477.71,-215 480.67,-215 483.62,-217.96 483.62,-220.92 483.62,-220.92 483.62,-226.83 483.62,-226.83 483.62,-229.79 480.67,-232.75 477.71,-232.75"/>
<text text-anchor="start" x="446.12" y="-220.2" font-family="Helvetica,sans-Serif" font-size="9.00">util.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts -->
<g id="edge12" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/index.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M227.13,-222.77C268.59,-216.93 351.68,-207.76 421.62,-215.88 421.94,-215.91 422.26,-215.95 422.58,-215.99"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="422.22,-218.06 428.48,-216.92 422.88,-213.91 422.22,-218.06"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts -->
<g id="edge13" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/env.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M320.46,-252.67C328.16,-253.78 336.67,-255 344.71,-256.15"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="344.2,-258.2 350.44,-256.97 344.8,-254.04 344.2,-258.2"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts -->
<g id="edge14" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/kysely.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts</title>
<path fill="none" stroke="black" d="M320.46,-243.18C327.42,-241.68 335.04,-240.04 342.39,-238.46"/>
<polygon fill="none" stroke="black" points="342.7,-240.54 348.12,-237.22 341.82,-236.43 342.7,-240.54"/>
</g>
<!-- apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts -->
<g id="edge15" class="edge">
<title>apps/service&#45;scrape/lib&#45;db_service_scrape/src/schema.ts&#45;&gt;apps/service&#45;scrape/lib&#45;db_service_scrape/src/util.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M407.49,-228.31C412.39,-227.86 417.52,-227.38 422.54,-226.92"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="422.59,-229.03 428.37,-226.39 422.21,-224.84 422.59,-229.03"/>
</g>
<!-- apps/service&#45;scrape/script/compress.ts -->
<g id="node16" class="node">
<title>apps/service&#45;scrape/script/compress.ts</title>
<g id="a_node16"><a xlink:href="apps/service-scrape/script/compress.ts" xlink:title="compress.ts">
<path fill="#ddfeff" stroke="black" d="M118.08,-97.75C118.08,-97.75 65.17,-97.75 65.17,-97.75 62.21,-97.75 59.25,-94.79 59.25,-91.83 59.25,-91.83 59.25,-85.92 59.25,-85.92 59.25,-82.96 62.21,-80 65.17,-80 65.17,-80 118.08,-80 118.08,-80 121.04,-80 124,-82.96 124,-85.92 124,-85.92 124,-91.83 124,-91.83 124,-94.79 121.04,-97.75 118.08,-97.75"/>
<text text-anchor="start" x="67.25" y="-85.2" font-family="Helvetica,sans-Serif" font-size="9.00">compress.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/util.ts -->
<g id="node17" class="node">
<title>apps/service&#45;scrape/script/util.ts</title>
<g id="a_node17"><a xlink:href="apps/service-scrape/script/util.ts" xlink:title="util.ts">
<path fill="#ddfeff" stroke="black" d="M220.96,-97.75C220.96,-97.75 178.79,-97.75 178.79,-97.75 175.83,-97.75 172.88,-94.79 172.88,-91.83 172.88,-91.83 172.88,-85.92 172.88,-85.92 172.88,-82.96 175.83,-80 178.79,-80 178.79,-80 220.96,-80 220.96,-80 223.92,-80 226.88,-82.96 226.88,-85.92 226.88,-85.92 226.88,-91.83 226.88,-91.83 226.88,-94.79 223.92,-97.75 220.96,-97.75"/>
<text text-anchor="start" x="189.38" y="-85.2" font-family="Helvetica,sans-Serif" font-size="9.00">util.ts</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/compress.ts&#45;&gt;apps/service&#45;scrape/script/util.ts -->
<g id="edge16" class="edge">
<title>apps/service&#45;scrape/script/compress.ts&#45;&gt;apps/service&#45;scrape/script/util.ts</title>
<path fill="none" stroke="black" stroke-width="0.6" d="M124.22,-88.88C137.34,-88.88 152.58,-88.88 165.86,-88.88"/>
<polygon fill="black" stroke="black" stroke-width="0.6" points="165.69,-90.98 171.69,-88.88 165.69,-86.78 165.69,-90.98"/>
</g>
<!-- fs -->
<g id="node18" class="node">
<title>fs</title>
<g id="a_node18"><a xlink:href="https://nodejs.org/api/fs.html" xlink:title="fs">
<path fill="#ffffcc" stroke="grey" d="M314.08,-17.75C314.08,-17.75 271.92,-17.75 271.92,-17.75 268.96,-17.75 266,-14.79 266,-11.83 266,-11.83 266,-5.92 266,-5.92 266,-2.96 268.96,0 271.92,0 271.92,0 314.08,0 314.08,0 317.04,0 320,-2.96 320,-5.92 320,-5.92 320,-11.83 320,-11.83 320,-14.79 317.04,-17.75 314.08,-17.75"/>
<text text-anchor="middle" x="293" y="-5.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="grey">fs</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/compress.ts&#45;&gt;fs -->
<g id="edge17" class="edge">
<title>apps/service&#45;scrape/script/compress.ts&#45;&gt;fs</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M113.97,-79.54C143.92,-66.54 200.25,-42.49 249,-23.88 252.07,-22.7 255.29,-21.51 258.51,-20.34"/>
<polygon fill="black" stroke="black" points="259.16,-22.34 264.11,-18.34 257.75,-18.39 259.16,-22.34"/>
</g>
<!-- apps/service&#45;scrape/script/util.ts&#45;&gt;fs -->
<g id="edge18" class="edge">
<title>apps/service&#45;scrape/script/util.ts&#45;&gt;fs</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M211.28,-79.62C220.16,-71.26 232.76,-58.26 241,-44.88 246.23,-36.37 241.84,-30.84 249,-23.88 251.91,-21.05 255.37,-18.76 259.06,-16.89"/>
<polygon fill="black" stroke="black" points="259.77,-18.87 264.46,-14.58 258.12,-15.01 259.77,-18.87"/>
</g>
<!-- zlib -->
<g id="node19" class="node">
<title>zlib</title>
<g id="a_node19"><a xlink:href="https://nodejs.org/api/zlib.html" xlink:title="zlib">
<path fill="#ffffcc" stroke="grey" d="M314.08,-47.75C314.08,-47.75 271.92,-47.75 271.92,-47.75 268.96,-47.75 266,-44.79 266,-41.83 266,-41.83 266,-35.92 266,-35.92 266,-32.96 268.96,-30 271.92,-30 271.92,-30 314.08,-30 314.08,-30 317.04,-30 320,-32.96 320,-35.92 320,-35.92 320,-41.83 320,-41.83 320,-44.79 317.04,-47.75 314.08,-47.75"/>
<text text-anchor="middle" x="293" y="-35.2" font-family="Helvetica,sans-Serif" font-size="9.00" fill="grey">zlib</text>
</a>
</g>
</g>
<!-- apps/service&#45;scrape/script/util.ts&#45;&gt;zlib -->
<g id="edge19" class="edge">
<title>apps/service&#45;scrape/script/util.ts&#45;&gt;zlib</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M217.59,-79.7C231.89,-71.86 252.62,-60.48 268.57,-51.73"/>
<polygon fill="black" stroke="black" points="269.51,-53.61 273.76,-48.89 267.49,-49.93 269.51,-53.61"/>
</g>
</g>
</svg>
    <script>
      var gMode = new Mode();

var title2ElementMap = (function makeElementMap() {
  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  return new Title2ElementMap(edges, nodes);
})();

function getHoverHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function hoverHighlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (
      currentHighlightedTitle !== closestTitleText &&
      gMode.get() === gMode.HOVER
    ) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

function getSelectHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function selectHighlightHandler(pMouseEvent) {
    pMouseEvent.preventDefault();

    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (closestNodeOrEdge) {
      gMode.setToSelect();
    } else {
      gMode.setToHover();
    }
    if (currentHighlightedTitle !== closestTitleText) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}
function Mode() {
  var HOVER = 1;
  var SELECT = 2;

  function setToHover() {
    this._mode = HOVER;
  }
  function setToSelect() {
    this._mode = SELECT;
  }

  /**
   * @returns {number}
   */
  function get() {
    return this._mode || HOVER;
  }

  return {
    HOVER: HOVER,
    SELECT: SELECT,
    setToHover: setToHover,
    setToSelect: setToSelect,
    get: get,
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

function resetNodesAndEdges() {
  nodeListToArray(document.querySelectorAll(".current")).forEach(
    removeHighlight,
  );
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}

var gHints = {
  HIDDEN: 1,
  SHOWN: 2,
  state: 1, // === HIDDEN
  show: function () {
    document.getElementById("hints").removeAttribute("style");
    gHints.state = gHints.SHOWN;
  },
  hide: function () {
    document.getElementById("hints").style = "display:none";
    gHints.state = gHints.HIDDEN;
  },
  toggle: function () {
    if ((gHints.state || gHints.HIDDEN) === gHints.HIDDEN) {
      gHints.show();
    } else {
      gHints.hide();
    }
  },
};

/** @param {KeyboardEvent} pKeyboardEvent */
function keyboardEventHandler(pKeyboardEvent) {
  if (pKeyboardEvent.key === "Escape") {
    resetNodesAndEdges();
    gMode.setToHover();
    gHints.hide();
  }
  if (pKeyboardEvent.key === "F1") {
    pKeyboardEvent.preventDefault();
    gHints.toggle();
  }
}

document.addEventListener("contextmenu", getSelectHandler(title2ElementMap));
document.addEventListener("mouseover", getHoverHandler(title2ElementMap));
document.addEventListener("keydown", keyboardEventHandler);
document.getElementById("close-hints").addEventListener("click", gHints.hide);
document.getElementById("button_help").addEventListener("click", gHints.toggle);
document.querySelector("svg").insertAdjacentHTML(
  "afterbegin",
  `<linearGradient id="edgeGradient">
      <stop offset="0%" stop-color="fuchsia"/>
      <stop offset="100%" stop-color="purple"/>
   </linearGradient>
  `,
);

// Add a small increment to the last value of the path to make gradients on
// horizontal paths work. Without them all browsers I tested with (firefox,
// chrome) do not render the gradient, but instead make the line transparent
// (or the color of the background, I haven't looked into it that deeply,
// but for the hack it doesn't matter which).
function skewLineABit(lDrawingInstructions) {
  var lLastValue = lDrawingInstructions.match(/(\d+\.?\d*)$/)[0];
  // Smaller values than .001 _should_ work as well, but don't in all
  // cases. Even this value is so small that it is not visible to the
  // human eye (tested with the two I have at my disposal).
  var lIncrement = 0.001;
  var lNewLastValue = parseFloat(lLastValue) + lIncrement;

  return lDrawingInstructions.replace(lLastValue, lNewLastValue);
}

nodeListToArray(document.querySelectorAll("path"))
  .filter(function (pElement) {
    return pElement.parentElement.classList.contains("edge");
  })
  .forEach(function (pElement) {
    pElement.attributes.d.value = skewLineABit(pElement.attributes.d.value);
  });

    </script>
  </body>
</html>
